"use strict";(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[971],{252:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomeResponsive)\n/* harmony export */ });\n/* harmony import */ var _AbstractClasses_CalendarCreationDOMInteractions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(505);\n/* harmony import */ var _Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(804);\n/* harmony import */ var _Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(337);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\nvar HomeResponsive = /*#__PURE__*/function () {\n  function HomeResponsive() {\n    _classCallCheck(this, HomeResponsive);\n\n    this.headCellsIndexedByTheirOriginalIndexes = [];\n    this.tbodyRowsWithChidren = [];\n    this.home = document.getElementById('home-main');\n    this.content = this.home.querySelector('.content');\n    this.isMedium = false;\n    this.isMobile = false;\n    this.mediumCount = 0;\n    this.mobileCount = 0;\n    this.mediumScreenWidth = 901;\n    this.mobileScreenWidth = 601;\n    this.revisionHeadsChildren = [];\n    this.sidebarLeftButton;\n    this.subjectsInnerHTML = [];\n    this.userProfileButton;\n    this.visibleSidebarLeftWidth;\n    this.visibleUserProfileWidth;\n    this.handleResize();\n    window.addEventListener('resize', this.handleResize.bind(this));\n  }\n  /**\r\n   * \r\n   * @param {Event | null} e \r\n   */\n\n\n  _createClass(HomeResponsive, [{\n    key: \"handleResize\",\n    value: function handleResize() {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      e === null || e === void 0 ? void 0 : e.preventDefault();\n      var medium = window.innerWidth < this.mediumScreenWidth && window.innerWidth >= this.mobileScreenWidth;\n      var mobile = window.innerWidth < this.mobileScreenWidth;\n\n      if (this.isMedium !== medium) {\n        this.isMedium = medium;\n      } else if (this.isMobile !== mobile) {\n        this.isMobile = mobile;\n      }\n\n      if (this.isMobile) {\n        this.displayMobile();\n      } else if (this.isMedium) {\n        this.displayMediumScreen();\n      } else {\n        this.displayLargeScreen();\n      }\n\n      this.toggleRevisionHeadLabels();\n    }\n  }, {\n    key: \"displayMobile\",\n    value: function displayMobile() {\n      this.mediumCount = 0;\n      this.content.style.width = '100%';\n      this.appendSidebarLeftToNavbar();\n      this.appendUserProfileButton();\n\n      if (window.innerWidth < 520) {\n        this.clipSubjectsName();\n        this.transformCalendarTable();\n      } else {\n        this.declipSubjectsName();\n        this.renderCalendarTableToHisOriginalForm();\n      }\n    }\n  }, {\n    key: \"appendSidebarLeftToNavbar\",\n    value: function appendSidebarLeftToNavbar() {\n      var className = 'sidebar-left';\n      var sidebarLeft = document.querySelector(\".\".concat(className));\n\n      if (sidebarLeft) {\n        var logo = document.querySelector('.logo');\n        logo.after(sidebarLeft);\n        sidebarLeft.classList.add('menu');\n        sidebarLeft.classList.remove(className);\n      }\n    }\n  }, {\n    key: \"appendUserProfileButton\",\n    value: function appendUserProfileButton() {\n      if (!this.thereAreButtons()) {\n        var _this$userProfileButt;\n\n        this.userProfileButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .createElement */ .az)('div', 'buttons_for_hidden_sidebars user_profile_button');\n        this.userProfileButton.innerHTML = \"\\n            <i class='fas fa-arrow-left'></i>\\n            \";\n        this.home.appendChild(this.userProfileButton);\n        (_this$userProfileButt = this.userProfileButton) === null || _this$userProfileButt === void 0 ? void 0 : _this$userProfileButt.addEventListener('click', this.toggleUserProfile.bind(this));\n      }\n    }\n  }, {\n    key: \"clipSubjectsName\",\n    value: function clipSubjectsName() {\n      var _this = this;\n\n      this.subjects = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .createArray */ .Ri)(this.content.querySelectorAll('.subject-name'));\n\n      if (this.subjectsInnerHTML.length === 0) {\n        this.subjects.forEach(function (subject) {\n          var subjectText = subject.innerHTML;\n          _this.subjectsInnerHTML[_this.subjects.indexOf(subject)] = subjectText;\n\n          if (subjectText.length > 4) {\n            subject.innerHTML = subjectText.substring(0, 4).toUpperCase();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"transformCalendarTable\",\n    value: function transformCalendarTable() {\n      this.calendar = this.content.querySelector('.calendar');\n\n      if (this.calendar) {\n        this.appendHeadCellsIntoSelectElement();\n        this.fetchAllTbodyRows();\n        this.showOnlyColumsCorrespondantsToSelectedOption();\n        this.optionChoice();\n      }\n    }\n  }, {\n    key: \"appendHeadCellsIntoSelectElement\",\n    value: function appendHeadCellsIntoSelectElement() {\n      var _this2 = this;\n\n      var thead = this.calendar.querySelector('thead');\n      var tr = thead.querySelector('tr');\n      var th = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .createArray */ .Ri)(thead.querySelectorAll('th'));\n\n      if (tr.querySelector('select') === null) {\n        var select = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .createElement */ .az)('select');\n        var selectParent = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .createElement */ .az)('th');\n        tr.appendChild(selectParent);\n        selectParent.appendChild(select);\n        th.forEach(function (cell) {\n          var option = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .createElement */ .az)('option');\n          select.appendChild(option);\n\n          if (cell.innerText !== 'MatiÃ¨re') {\n            _this2.headCellsIndexedByTheirOriginalIndexes[th.indexOf(cell)] = cell;\n            var i = cell.querySelector('i');\n\n            if (i) {\n              i.setAttribute('hidden', 'true');\n            }\n\n            option.appendChild(cell);\n            option.setAttribute('value', cell.innerText);\n            select.selectedIndex = 1;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"fetchAllTbodyRows\",\n    value: function fetchAllTbodyRows() {\n      var _this3 = this;\n\n      if (this.tbodyRowsWithChidren.length === 0) {\n        var tbodyRows = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .createArray */ .Ri)(this.calendar.querySelectorAll('tbody tr'));\n        tbodyRows.forEach(function (row) {\n          var rowChildren = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .createArray */ .Ri)(row.children);\n          _this3.tbodyRowsWithChidren[tbodyRows.indexOf(row)] = rowChildren;\n          rowChildren.forEach(function (rowChild) {\n            if (!rowChild.classList.contains('subject_name')) {\n              rowChild.setAttribute('hidden', 'true');\n            }\n          });\n        });\n      }\n    }\n  }, {\n    key: \"showOnlyColumsCorrespondantsToSelectedOption\",\n    value: function showOnlyColumsCorrespondantsToSelectedOption() {\n      this.select = this.calendar.querySelector('select');\n      var selectedIndex = this.select.selectedIndex;\n      this.tbodyRowsWithChidren.forEach(function (rowWithChildren) {\n        rowWithChildren.forEach(function (child) {\n          if (!child.hasAttribute('hidden') && !child.classList.contains('subject_name')) {\n            child.setAttribute('hidden', 'true');\n          }\n        });\n        rowWithChildren[selectedIndex].removeAttribute('hidden');\n      });\n    }\n  }, {\n    key: \"optionChoice\",\n    value: function optionChoice() {\n      this.select.addEventListener('click', this.showOnlyColumsCorrespondantsToSelectedOption.bind(this));\n    }\n  }, {\n    key: \"declipSubjectsName\",\n    value: function declipSubjectsName() {\n      if (this.subjectsInnerHTML.length > 0 && this.subjects) {\n        for (var index in this.subjectsInnerHTML) {\n          this.subjects[index].innerHTML = this.subjectsInnerHTML[index];\n        }\n      }\n\n      this.subjectsInnerHTML = [];\n      this.subjects = undefined;\n    }\n  }, {\n    key: \"renderCalendarTableToHisOriginalForm\",\n    value: function renderCalendarTableToHisOriginalForm() {\n      var _this4 = this;\n\n      if (this.tbodyRowsWithChidren.length > 0 && this.calendar) {\n        this.headCellsIndexedByTheirOriginalIndexes.forEach(function (headCell) {\n          _this4.calendar.querySelector('thead tr').appendChild(headCell);\n\n          var i = headCell.querySelector('i');\n\n          if (i) {\n            i.removeAttribute('hidden');\n          }\n        });\n        this.tbodyRowsWithChidren.forEach(function (rowWithChildren) {\n          rowWithChildren.forEach(function (child) {\n            if (child.hasAttribute('hidden')) {\n              child.removeAttribute('hidden');\n            }\n          });\n        });\n\n        if (this.select !== null) {\n          (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .removeElementFromDOM */ .e5)(this.select.parentElement);\n          this.select = null;\n        }\n      }\n    }\n  }, {\n    key: \"displayMediumScreen\",\n    value: function displayMediumScreen() {\n      this.mediumCount++;\n\n      if (this.mediumCount === 1) {\n        this.content.style.width = '100%';\n        this.removeUserProfileButtonFromMobileScreen();\n      }\n\n      this.adjustContentWidthFollowingSidebarsWidth();\n      this.handleLeftAndRightButtonsInteractions();\n      this.renderMenuBackToSidebarLeftIfNecessary();\n    }\n  }, {\n    key: \"removeUserProfileButtonFromMobileScreen\",\n    value: function removeUserProfileButtonFromMobileScreen() {\n      if (this.onlyUserProfileButtonExists()) {\n        this.removeButtonsForHiddenSidebars(true);\n      }\n    }\n  }, {\n    key: \"onlyUserProfileButtonExists\",\n    value: function onlyUserProfileButtonExists() {\n      return this.userProfileButton !== undefined && this.userProfileButton !== null && this.userProfileButton instanceof HTMLElement && this.sidebarLeftButton === undefined;\n    }\n    /**\r\n     * @param {boolean = false} onlyUserProfile prÃ©cise si on doit seulement supprimer le sidebar avec\r\n     * la classe \"useProfile\"\r\n     */\n\n  }, {\n    key: \"removeButtonsForHiddenSidebars\",\n    value: function removeButtonsForHiddenSidebars() {\n      var onlyUserProfile = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!onlyUserProfile) {\n        (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .removeElementFromDOM */ .e5)(this.sidebarLeftButton);\n        this.sidebarLeftButton = undefined;\n      }\n\n      (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .removeElementFromDOM */ .e5)(this.userProfileButton);\n      this.userProfileButton = undefined;\n    }\n    /**\r\n     * ajuste la largeur de l'Ã©lÃ©ment possÃ©dant la classe \"content\" suivant la largeur de chacun des sidebars\r\n     */\n\n  }, {\n    key: \"adjustContentWidthFollowingSidebarsWidth\",\n    value: function adjustContentWidthFollowingSidebarsWidth() {\n      var visibleSidebars = this.home.querySelectorAll('.visible_sidebar');\n\n      if (visibleSidebars.length > 0) {\n        var visibleSidebarsWidthSum = 0;\n        visibleSidebars.forEach(function (visibleSidebar) {\n          visibleSidebarsWidthSum += visibleSidebar.offsetWidth;\n        });\n        this.content.style.width = this.convertToWindowPercent(window.innerWidth - visibleSidebarsWidthSum) + '%';\n      }\n    }\n  }, {\n    key: \"handleLeftAndRightButtonsInteractions\",\n    value: function handleLeftAndRightButtonsInteractions() {\n      if (!this.thereAreButtons()) {\n        var _this$sidebarLeftButt, _this$userProfileButt2;\n\n        this.sidebarLeftButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .createElement */ .az)('div', 'buttons_for_hidden_sidebars sidebar_left_button');\n        this.userProfileButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .createElement */ .az)('div', 'buttons_for_hidden_sidebars user_profile_button');\n        this.sidebarLeftButton.innerHTML = \"\\n            <i class='fas fa-arrow-right'></i>\\n            \";\n        this.userProfileButton.innerHTML = \"\\n            <i class='fas fa-arrow-left'></i>\\n            \";\n        this.home.appendChild(this.sidebarLeftButton);\n        this.home.appendChild(this.userProfileButton);\n        (_this$sidebarLeftButt = this.sidebarLeftButton) === null || _this$sidebarLeftButt === void 0 ? void 0 : _this$sidebarLeftButt.addEventListener('click', this.toggleSidebarLeft.bind(this));\n        (_this$userProfileButt2 = this.userProfileButton) === null || _this$userProfileButt2 === void 0 ? void 0 : _this$userProfileButt2.addEventListener('click', this.toggleUserProfile.bind(this));\n      }\n    }\n  }, {\n    key: \"thereAreButtons\",\n    value: function thereAreButtons() {\n      return document.querySelectorAll('.buttons_for_hidden_sidebars').length !== 0;\n    }\n  }, {\n    key: \"toggleSidebarLeft\",\n    value: function toggleSidebarLeft(e) {\n      e.preventDefault();\n      var sidebarLeft = document.querySelector('.sidebar-left');\n      var sidebarLeftVisibleClassName = 'visible_sidebar_left';\n      this.toggleElementClassname(sidebarLeft, sidebarLeftVisibleClassName);\n    }\n    /**\r\n     * \r\n     * @param {HTMLElement} element \r\n     * @param {string} classNameToToggle \r\n     */\n\n  }, {\n    key: \"toggleElementClassname\",\n    value: function toggleElementClassname(element, classNameToToggle) {\n      if (!(0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .elementHasClassName */ .cF)(element, classNameToToggle)) {\n        element.classList.add('visible_sidebar');\n        element.classList.add(classNameToToggle);\n\n        if (!this.isMobile) {\n          this.decreaseElementWidth(this.content, element.offsetWidth);\n        }\n      } else {\n        if (!this.isMobile) {\n          this.increaseElementWidth(this.content, element.offsetWidth);\n        }\n\n        element.classList.remove(classNameToToggle);\n      }\n    }\n    /**\r\n     * \r\n     * @param {HTMLElement} element Ã©lÃ©ment dont la largeur est Ã  diminuer\r\n     * @param {number} toggledElementWidth largeur de l'Ã©lÃ©mÃ©nt qui sera dÃ©duit Ã  {element}\r\n     */\n\n  }, {\n    key: \"decreaseElementWidth\",\n    value: function decreaseElementWidth(element, toggledElementWidth) {\n      var elementWidthInPercent = this.convertToWindowPercent(element.offsetWidth - toggledElementWidth);\n      element.style.width = elementWidthInPercent + '%';\n    }\n  }, {\n    key: \"convertToWindowPercent\",\n    value: function convertToWindowPercent(elementWidth) {\n      return parseFloat(parseFloat(100 / window.innerWidth * elementWidth).toFixed(3));\n    }\n    /**\r\n     * \r\n     * @param {HTMLElement} element Ã©lÃ©ment dont la largeur est Ã  augmenter\r\n     * @param {string} toggledElementWidth largeur de l'Ã©lÃ©mÃ©nt qui sera ajoutÃ©e Ã  {element}\r\n     */\n\n  }, {\n    key: \"increaseElementWidth\",\n    value: function increaseElementWidth(element, toggledElementWidth) {\n      var elementWidthInPercent = this.convertToWindowPercent(element.offsetWidth + toggledElementWidth);\n      element.style.width = elementWidthInPercent + '%';\n    }\n  }, {\n    key: \"toggleUserProfile\",\n    value: function toggleUserProfile(e) {\n      e.preventDefault();\n      var userProfile = document.querySelector('.user-profile-right');\n      var userProfileVisibleClassName = 'visible_user_profile';\n      this.toggleElementClassname(userProfile, userProfileVisibleClassName);\n    }\n  }, {\n    key: \"renderMenuBackToSidebarLeftIfNecessary\",\n    value: function renderMenuBackToSidebarLeftIfNecessary() {\n      var menu = document.querySelector('.menu');\n\n      if (menu !== null) {\n        this.home.prepend(menu);\n        menu.classList.remove('menu');\n        menu.classList.add('sidebar-left');\n      }\n    }\n  }, {\n    key: \"displayLargeScreen\",\n    value: function displayLargeScreen() {\n      this.mediumCount = 0;\n\n      if (this.thereAreButtons()) {\n        this.removeButtonsForHiddenSidebars();\n        this.removeVisibleClassnameInSidebars();\n        this.content.style.width = '74%';\n      }\n    }\n  }, {\n    key: \"toggleRevisionHeadLabels\",\n    value: function toggleRevisionHeadLabels() {\n      this.revisionHeads = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .createArray */ .Ri)(document.querySelectorAll('.revision_head'));\n\n      if (this.revisionHeads.length > 0) {\n        if (window.innerWidth < 700) {\n          this.replaceRevisionHeadLabelsToIcons();\n        } else {\n          this.reuseLettersForRevisionLabels();\n        }\n      }\n    }\n  }, {\n    key: \"replaceRevisionHeadLabelsToIcons\",\n    value: function replaceRevisionHeadLabelsToIcons() {\n      var _this5 = this;\n\n      this.revisionHeads.forEach(function (revisionHead) {\n        var revisionHeadParagraphs = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .createConstArray */ .c4)(revisionHead.children);\n\n        if (_this5.revisionHeadsChildren[_this5.revisionHeads.indexOf(revisionHead)] === undefined) {\n          _this5.revisionHeadsChildren[_this5.revisionHeads.indexOf(revisionHead)] = revisionHeadParagraphs;\n        }\n\n        (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .foreachArrayElements */ .$f)(revisionHeadParagraphs, _this5.replaceToIcons);\n      });\n    }\n    /**\r\n     * \r\n     * @param {HTMLElement} paragraph \r\n     */\n\n  }, {\n    key: \"replaceToIcons\",\n    value: function replaceToIcons(paragraph) {\n      var icon = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .createElement */ .az)('i');\n\n      if ((0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .elementHasClassName */ .cF)(paragraph, 'subject')) {\n        icon.classList.add('fas');\n        icon.classList.add('fa-book');\n      } else if ((0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .elementHasClassName */ .cF)(paragraph, 'chapter')) {\n        icon.classList.add('fas');\n        icon.classList.add('fa-bookmark');\n      } else if ((0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_1__/* .elementHasClassName */ .cF)(paragraph, 'time')) {\n        icon.innerHTML = \"\\n            <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"feather feather-watch\\\">\\n            <circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"7\\\"></circle>\\n            <polyline points=\\\"12 9 12 12 13.5 13.5\\\"></polyline>\\n            <path d=\\\"M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83\\\">\\n            </path>\\n            </svg>\";\n      } else {\n        return;\n      }\n\n      paragraph.replaceWith(icon);\n    }\n  }, {\n    key: \"reuseLettersForRevisionLabels\",\n    value: function reuseLettersForRevisionLabels() {\n      this.firstRevisionHeadParagraphsCopy = [];\n\n      if (this.revisionHeadsChildren !== null) {\n        this.revisionHeads = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .createArray */ .Ri)(document.querySelectorAll('.revision_head'));\n        this.appendLabelParagraphsForeachRevisionHead();\n      }\n    }\n  }, {\n    key: \"appendLabelParagraphsForeachRevisionHead\",\n    value: function appendLabelParagraphsForeachRevisionHead() {\n      var _this6 = this;\n\n      var _loop = function _loop(revisionHeadIndex) {\n        _this6.revisionHeadsChildren[revisionHeadIndex].forEach(function (revisionHeadParagraph) {\n          _this6.appendLabelParagraphsToARevisionHead(revisionHeadParagraph, revisionHeadIndex);\n        });\n      };\n\n      for (var revisionHeadIndex in this.revisionHeadsChildren) {\n        _loop(revisionHeadIndex);\n      }\n    }\n  }, {\n    key: \"appendLabelParagraphsToARevisionHead\",\n    value: function appendLabelParagraphsToARevisionHead(revisionHeadParagraph, revisionHeadIndex) {\n      var currentLoopRevisionHead = this.revisionHeads[revisionHeadIndex];\n\n      if ((0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_2__/* .createArray */ .Ri)(currentLoopRevisionHead.children).length === 3) {\n        currentLoopRevisionHead.innerHTML = \"\";\n      }\n\n      if (revisionHeadParagraph.nodeName === 'P') {\n        this.firstRevisionHeadParagraphsCopy.push(revisionHeadParagraph.cloneNode(true));\n        currentLoopRevisionHead.appendChild(revisionHeadParagraph);\n      } else {\n        var paragraphIndex = this.revisionHeadsChildren[revisionHeadIndex].indexOf(revisionHeadParagraph);\n        currentLoopRevisionHead.appendChild(this.firstRevisionHeadParagraphsCopy[paragraphIndex]);\n      }\n\n      if (this.revisionHeads.length === 2 && this.revisionHeadsChildren.length === 1) {\n        this.revisionHeads[1].appendChild(revisionHeadParagraph);\n      }\n    }\n  }, {\n    key: \"removeVisibleClassnameInSidebars\",\n    value: function removeVisibleClassnameInSidebars() {\n      var visibleSidebarLeft = document.querySelector('.visible_sidebar_left');\n      var visibleUserProfile = document.querySelector('.visible_user_profile');\n\n      if (visibleSidebarLeft) {\n        visibleSidebarLeft.classList.remove('visible_sidebar_left');\n      }\n\n      if (visibleUserProfile) {\n        visibleUserProfile.classList.remove('visible_user_profile');\n      }\n    }\n  }]);\n\n  return HomeResponsive;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBOztBQUFBO0FBR0E7QUFDQTtBQUNBO0FBTEE7O0FBQ0E7QUFBQTtBQUtBO0FBQ0E7OztBQUVBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay1kZW1vLy4vc3JjL3Jlc3BvbnNpdmVzL2hvbWUtcmVzcG9uc2l2ZS5qcz9kYzUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYWxlbmRhckNyZWF0aW9uRE9NSW50ZXJhY3Rpb25zIGZyb20gXCIuLi9BYnN0cmFjdENsYXNzZXMvQ2FsZW5kYXJDcmVhdGlvbkRPTUludGVyYWN0aW9uc1wiXHJcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGVsZW1lbnRIYXNDbGFzc05hbWUsIHJlbW92ZUVsZW1lbnRGcm9tRE9NIH0gZnJvbSBcIi4uL0Z1bmN0aW9ucy9Ub29scy9ET01Ub29sc1wiXHJcbmltcG9ydCB7IGNyZWF0ZUFycmF5LCBjcmVhdGVDb25zdEFycmF5LCBmb3JlYWNoQXJyYXlFbGVtZW50cywgaXNVbmRlZmluZWQgfSBmcm9tIFwiLi4vRnVuY3Rpb25zL1Rvb2xzL1Rvb2xzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWVSZXNwb25zaXZlIHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5oZWFkQ2VsbHNJbmRleGVkQnlUaGVpck9yaWdpbmFsSW5kZXhlcyA9IFtdXHJcbiAgICAgICAgdGhpcy50Ym9keVJvd3NXaXRoQ2hpZHJlbiA9IFtdXHJcbiAgICAgICAgdGhpcy5ob21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvbWUtbWFpbicpXHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5ob21lLnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JylcclxuICAgICAgICB0aGlzLmlzTWVkaXVtID0gZmFsc2VcclxuICAgICAgICB0aGlzLmlzTW9iaWxlID0gZmFsc2VcclxuICAgICAgICB0aGlzLm1lZGl1bUNvdW50ID0gMFxyXG4gICAgICAgIHRoaXMubW9iaWxlQ291bnQgPSAwXHJcbiAgICAgICAgdGhpcy5tZWRpdW1TY3JlZW5XaWR0aCA9IDkwMVxyXG4gICAgICAgIHRoaXMubW9iaWxlU2NyZWVuV2lkdGggPSA2MDFcclxuICAgICAgICB0aGlzLnJldmlzaW9uSGVhZHNDaGlsZHJlbiA9IFtdXHJcbiAgICAgICAgdGhpcy5zaWRlYmFyTGVmdEJ1dHRvblxyXG4gICAgICAgIHRoaXMuc3ViamVjdHNJbm5lckhUTUwgPSBbXVxyXG4gICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b25cclxuICAgICAgICB0aGlzLnZpc2libGVTaWRlYmFyTGVmdFdpZHRoXHJcbiAgICAgICAgdGhpcy52aXNpYmxlVXNlclByb2ZpbGVXaWR0aFxyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplLmJpbmQodGhpcykpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7RXZlbnQgfCBudWxsfSBlIFxyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZXNpemUoZSA9IG51bGwpe1xyXG4gICAgICAgIGU/LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBcclxuICAgICAgICBsZXQgbWVkaXVtID0gd2luZG93LmlubmVyV2lkdGggPCB0aGlzLm1lZGl1bVNjcmVlbldpZHRoICYmIHdpbmRvdy5pbm5lcldpZHRoID49IHRoaXMubW9iaWxlU2NyZWVuV2lkdGhcclxuICAgICAgICBsZXQgbW9iaWxlID0gd2luZG93LmlubmVyV2lkdGggPCB0aGlzLm1vYmlsZVNjcmVlbldpZHRoXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5pc01lZGl1bSAhPT0gbWVkaXVtKXtcclxuICAgICAgICAgICAgdGhpcy5pc01lZGl1bSA9IG1lZGl1bVxyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNNb2JpbGUgIT09IG1vYmlsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzTW9iaWxlID0gbW9iaWxlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLmlzTW9iaWxlKXtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5TW9iaWxlKClcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzTWVkaXVtKXtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5TWVkaXVtU2NyZWVuKClcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUxhcmdlU2NyZWVuKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudG9nZ2xlUmV2aXNpb25IZWFkTGFiZWxzKClcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5TW9iaWxlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLm1lZGl1bUNvdW50ID0gMFxyXG4gICAgICAgIHRoaXMuY29udGVudC5zdHlsZS53aWR0aCA9ICcxMDAlJ1xyXG5cclxuICAgICAgICB0aGlzLmFwcGVuZFNpZGViYXJMZWZ0VG9OYXZiYXIoKVxyXG4gICAgICAgIHRoaXMuYXBwZW5kVXNlclByb2ZpbGVCdXR0b24oKVxyXG5cclxuICAgICAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA8IDUyMCl7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpcFN1YmplY3RzTmFtZSgpXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtQ2FsZW5kYXJUYWJsZSgpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjbGlwU3ViamVjdHNOYW1lKClcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJDYWxlbmRhclRhYmxlVG9IaXNPcmlnaW5hbEZvcm0oKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRTaWRlYmFyTGVmdFRvTmF2YmFyKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSAnc2lkZWJhci1sZWZ0J1xyXG4gICAgICAgIGxldCBzaWRlYmFyTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzTmFtZX1gKVxyXG4gICAgICAgIGlmKHNpZGViYXJMZWZ0KXtcclxuICAgICAgICAgICAgbGV0IGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9nbycpXHJcbiAgICAgICAgICAgIGxvZ28uYWZ0ZXIoc2lkZWJhckxlZnQpXHJcbiAgICAgICAgICAgIHNpZGViYXJMZWZ0LmNsYXNzTGlzdC5hZGQoJ21lbnUnKVxyXG4gICAgICAgICAgICBzaWRlYmFyTGVmdC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSlcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZFVzZXJQcm9maWxlQnV0dG9uKClcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy50aGVyZUFyZUJ1dHRvbnMoKSl7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b24gPSBjcmVhdGVFbGVtZW50KCdkaXYnLCAnYnV0dG9uc19mb3JfaGlkZGVuX3NpZGViYXJzIHVzZXJfcHJvZmlsZV9idXR0b24nKVxyXG4gICAgICAgICAgICB0aGlzLnVzZXJQcm9maWxlQnV0dG9uLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGkgY2xhc3M9J2ZhcyBmYS1hcnJvdy1sZWZ0Jz48L2k+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICAgICAgdGhpcy5ob21lLmFwcGVuZENoaWxkKHRoaXMudXNlclByb2ZpbGVCdXR0b24pXHJcbiAgICAgICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVVc2VyUHJvZmlsZS5iaW5kKHRoaXMpKVxyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgY2xpcFN1YmplY3RzTmFtZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0cyA9IGNyZWF0ZUFycmF5KHRoaXMuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3ViamVjdC1uYW1lJykpXHJcbiAgICAgICAgaWYodGhpcy5zdWJqZWN0c0lubmVySFRNTC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJqZWN0cy5mb3JFYWNoKHN1YmplY3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1YmplY3RUZXh0ID0gc3ViamVjdC5pbm5lckhUTUxcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ViamVjdHNJbm5lckhUTUxbdGhpcy5zdWJqZWN0cy5pbmRleE9mKHN1YmplY3QpXSA9IHN1YmplY3RUZXh0XHJcbiAgICAgICAgICAgICAgICBpZihzdWJqZWN0VGV4dC5sZW5ndGggPiA0KXtcclxuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmlubmVySFRNTCA9IHN1YmplY3RUZXh0LnN1YnN0cmluZygwLDQpLnRvVXBwZXJDYXNlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtQ2FsZW5kYXJUYWJsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jYWxlbmRhciA9IHRoaXMuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FsZW5kYXInKVxyXG4gICAgICAgIGlmKHRoaXMuY2FsZW5kYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBlbmRIZWFkQ2VsbHNJbnRvU2VsZWN0RWxlbWVudCgpXHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hBbGxUYm9keVJvd3MoKVxyXG4gICAgICAgICAgICB0aGlzLnNob3dPbmx5Q29sdW1zQ29ycmVzcG9uZGFudHNUb1NlbGVjdGVkT3B0aW9uKClcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25DaG9pY2UoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRIZWFkQ2VsbHNJbnRvU2VsZWN0RWxlbWVudCgpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHRoZWFkID0gdGhpcy5jYWxlbmRhci5xdWVyeVNlbGVjdG9yKCd0aGVhZCcpXHJcbiAgICAgICAgbGV0IHRyID0gdGhlYWQucXVlcnlTZWxlY3RvcigndHInKVxyXG4gICAgICAgIGxldCB0aCA9IGNyZWF0ZUFycmF5KHRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykpXHJcbiAgICAgICAgaWYodHIucXVlcnlTZWxlY3Rvcignc2VsZWN0JykgPT09IG51bGwpe1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ID0gY3JlYXRlRWxlbWVudCgnc2VsZWN0JylcclxuICAgICAgICAgICAgbGV0IHNlbGVjdFBhcmVudCA9IGNyZWF0ZUVsZW1lbnQoJ3RoJylcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQoc2VsZWN0UGFyZW50KVxyXG4gICAgICAgICAgICBzZWxlY3RQYXJlbnQuYXBwZW5kQ2hpbGQoc2VsZWN0KVxyXG4gICAgICAgICAgICB0aC5mb3JFYWNoKGNlbGwgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXHJcbiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKVxyXG4gICAgICAgICAgICAgICAgaWYoY2VsbC5pbm5lclRleHQgIT09ICdNYXRpw6hyZScpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZENlbGxzSW5kZXhlZEJ5VGhlaXJPcmlnaW5hbEluZGV4ZXNbdGguaW5kZXhPZihjZWxsKV0gPSBjZWxsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IGNlbGwucXVlcnlTZWxlY3RvcignaScpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAndHJ1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChjZWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgY2VsbC5pbm5lclRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnNlbGVjdGVkSW5kZXggPSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZldGNoQWxsVGJvZHlSb3dzKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnRib2R5Um93c1dpdGhDaGlkcmVuLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgIGxldCB0Ym9keVJvd3MgPSBjcmVhdGVBcnJheSh0aGlzLmNhbGVuZGFyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3Rib2R5IHRyJykpXHJcbiAgICAgICAgICAgIHRib2R5Um93cy5mb3JFYWNoKHJvdyA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm93Q2hpbGRyZW4gPSBjcmVhdGVBcnJheShyb3cuY2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRib2R5Um93c1dpdGhDaGlkcmVuW3Rib2R5Um93cy5pbmRleE9mKHJvdyldID0gcm93Q2hpbGRyZW5cclxuICAgICAgICAgICAgICAgIHJvd0NoaWxkcmVuLmZvckVhY2gocm93Q2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFyb3dDaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N1YmplY3RfbmFtZScpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93Q2hpbGQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAndHJ1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd09ubHlDb2x1bXNDb3JyZXNwb25kYW50c1RvU2VsZWN0ZWRPcHRpb24oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ID0gdGhpcy5jYWxlbmRhci5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKVxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdC5zZWxlY3RlZEluZGV4XHJcbiAgICAgICAgdGhpcy50Ym9keVJvd3NXaXRoQ2hpZHJlbi5mb3JFYWNoKHJvd1dpdGhDaGlsZHJlbiA9PiB7XHJcbiAgICAgICAgICAgIHJvd1dpdGhDaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKCFjaGlsZC5oYXNBdHRyaWJ1dGUoJ2hpZGRlbicpICYmICFjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N1YmplY3RfbmFtZScpKXtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICd0cnVlJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcm93V2l0aENoaWxkcmVuW3NlbGVjdGVkSW5kZXhdLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG9wdGlvbkNob2ljZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dPbmx5Q29sdW1zQ29ycmVzcG9uZGFudHNUb1NlbGVjdGVkT3B0aW9uLmJpbmQodGhpcykpXHJcbiAgICB9XHJcblxyXG4gICAgZGVjbGlwU3ViamVjdHNOYW1lKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnN1YmplY3RzSW5uZXJIVE1MLmxlbmd0aCA+IDAgJiYgdGhpcy5zdWJqZWN0cyl7XHJcbiAgICAgICAgICAgIGZvcihjb25zdCBpbmRleCBpbiB0aGlzLnN1YmplY3RzSW5uZXJIVE1MKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ViamVjdHNbaW5kZXhdLmlubmVySFRNTCA9IHRoaXMuc3ViamVjdHNJbm5lckhUTUxbaW5kZXhdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0c0lubmVySFRNTCA9IFtdXHJcbiAgICAgICAgdGhpcy5zdWJqZWN0cyA9IHVuZGVmaW5lZFxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckNhbGVuZGFyVGFibGVUb0hpc09yaWdpbmFsRm9ybSgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYodGhpcy50Ym9keVJvd3NXaXRoQ2hpZHJlbi5sZW5ndGggPiAwICYmIHRoaXMuY2FsZW5kYXIpe1xyXG4gICAgICAgICAgICB0aGlzLmhlYWRDZWxsc0luZGV4ZWRCeVRoZWlyT3JpZ2luYWxJbmRleGVzLmZvckVhY2goaGVhZENlbGwgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhci5xdWVyeVNlbGVjdG9yKCd0aGVhZCB0cicpLmFwcGVuZENoaWxkKGhlYWRDZWxsKVxyXG4gICAgICAgICAgICAgICAgbGV0IGkgPSBoZWFkQ2VsbC5xdWVyeVNlbGVjdG9yKCdpJylcclxuICAgICAgICAgICAgICAgIGlmKGkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGkucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy50Ym9keVJvd3NXaXRoQ2hpZHJlbi5mb3JFYWNoKHJvd1dpdGhDaGlsZHJlbiA9PiB7XHJcbiAgICAgICAgICAgICAgICByb3dXaXRoQ2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2hpbGQuaGFzQXR0cmlidXRlKCdoaWRkZW4nKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYodGhpcy5zZWxlY3QgIT09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEZyb21ET00odGhpcy5zZWxlY3QucGFyZW50RWxlbWVudClcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ID0gbnVsbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpc3BsYXlNZWRpdW1TY3JlZW4oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubWVkaXVtQ291bnQrK1xyXG4gICAgICAgIGlmKHRoaXMubWVkaXVtQ291bnQgPT09IDEpe1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuc3R5bGUud2lkdGggPSAnMTAwJSdcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVVc2VyUHJvZmlsZUJ1dHRvbkZyb21Nb2JpbGVTY3JlZW4oKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkanVzdENvbnRlbnRXaWR0aEZvbGxvd2luZ1NpZGViYXJzV2lkdGgoKVxyXG4gICAgICAgIHRoaXMuaGFuZGxlTGVmdEFuZFJpZ2h0QnV0dG9uc0ludGVyYWN0aW9ucygpXHJcbiAgICAgICAgdGhpcy5yZW5kZXJNZW51QmFja1RvU2lkZWJhckxlZnRJZk5lY2Vzc2FyeSgpXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVXNlclByb2ZpbGVCdXR0b25Gcm9tTW9iaWxlU2NyZWVuKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLm9ubHlVc2VyUHJvZmlsZUJ1dHRvbkV4aXN0cygpKXtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVCdXR0b25zRm9ySGlkZGVuU2lkZWJhcnModHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25seVVzZXJQcm9maWxlQnV0dG9uRXhpc3RzKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51c2VyUHJvZmlsZUJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIFxyXG4gICAgICAgICAgICB0aGlzLnVzZXJQcm9maWxlQnV0dG9uICE9PSBudWxsICYmIFxyXG4gICAgICAgICAgICB0aGlzLnVzZXJQcm9maWxlQnV0dG9uIGluc3RhbmNlb2YgIEhUTUxFbGVtZW50ICYmIFxyXG4gICAgICAgICAgICB0aGlzLnNpZGViYXJMZWZ0QnV0dG9uID09PSB1bmRlZmluZWRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbiA9IGZhbHNlfSBvbmx5VXNlclByb2ZpbGUgcHLDqWNpc2Ugc2kgb24gZG9pdCBzZXVsZW1lbnQgc3VwcHJpbWVyIGxlIHNpZGViYXIgYXZlY1xyXG4gICAgICogbGEgY2xhc3NlIFwidXNlUHJvZmlsZVwiXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUJ1dHRvbnNGb3JIaWRkZW5TaWRlYmFycyhvbmx5VXNlclByb2ZpbGUgPSBmYWxzZSlcclxuICAgIHtcclxuICAgICAgICBpZighb25seVVzZXJQcm9maWxlKXtcclxuICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEZyb21ET00odGhpcy5zaWRlYmFyTGVmdEJ1dHRvbilcclxuICAgICAgICAgICAgdGhpcy5zaWRlYmFyTGVmdEJ1dHRvbiA9IHVuZGVmaW5lZFxyXG4gICAgICAgIH1cclxuICAgICAgICByZW1vdmVFbGVtZW50RnJvbURPTSh0aGlzLnVzZXJQcm9maWxlQnV0dG9uKVxyXG4gICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b24gPSB1bmRlZmluZWRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGFqdXN0ZSBsYSBsYXJnZXVyIGRlIGwnw6lsw6ltZW50IHBvc3PDqWRhbnQgbGEgY2xhc3NlIFwiY29udGVudFwiIHN1aXZhbnQgbGEgbGFyZ2V1ciBkZSBjaGFjdW4gZGVzIHNpZGViYXJzXHJcbiAgICAgKi9cclxuICAgIGFkanVzdENvbnRlbnRXaWR0aEZvbGxvd2luZ1NpZGViYXJzV2lkdGgoKVxyXG4gICAge1xyXG4gICAgICAgIGxldCB2aXNpYmxlU2lkZWJhcnMgPSB0aGlzLmhvbWUucXVlcnlTZWxlY3RvckFsbCgnLnZpc2libGVfc2lkZWJhcicpXHJcbiAgICAgICAgaWYodmlzaWJsZVNpZGViYXJzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICBsZXQgdmlzaWJsZVNpZGViYXJzV2lkdGhTdW0gPSAwXHJcbiAgICAgICAgICAgIHZpc2libGVTaWRlYmFycy5mb3JFYWNoKHZpc2libGVTaWRlYmFyID0+IHtcclxuICAgICAgICAgICAgICAgIHZpc2libGVTaWRlYmFyc1dpZHRoU3VtICs9IHZpc2libGVTaWRlYmFyLm9mZnNldFdpZHRoXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5zdHlsZS53aWR0aCA9IHRoaXMuY29udmVydFRvV2luZG93UGVyY2VudCh3aW5kb3cuaW5uZXJXaWR0aCAtIHZpc2libGVTaWRlYmFyc1dpZHRoU3VtKSArICclJ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVMZWZ0QW5kUmlnaHRCdXR0b25zSW50ZXJhY3Rpb25zKClcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy50aGVyZUFyZUJ1dHRvbnMoKSl7XHJcbiAgICAgICAgICAgIHRoaXMuc2lkZWJhckxlZnRCdXR0b24gPSBjcmVhdGVFbGVtZW50KCdkaXYnLCAnYnV0dG9uc19mb3JfaGlkZGVuX3NpZGViYXJzIHNpZGViYXJfbGVmdF9idXR0b24nKVxyXG4gICAgICAgICAgICB0aGlzLnVzZXJQcm9maWxlQnV0dG9uID0gY3JlYXRlRWxlbWVudCgnZGl2JywgJ2J1dHRvbnNfZm9yX2hpZGRlbl9zaWRlYmFycyB1c2VyX3Byb2ZpbGVfYnV0dG9uJylcclxuICAgICAgICAgICAgdGhpcy5zaWRlYmFyTGVmdEJ1dHRvbi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxpIGNsYXNzPSdmYXMgZmEtYXJyb3ctcmlnaHQnPjwvaT5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICB0aGlzLnVzZXJQcm9maWxlQnV0dG9uLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGkgY2xhc3M9J2ZhcyBmYS1hcnJvdy1sZWZ0Jz48L2k+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICAgICAgdGhpcy5ob21lLmFwcGVuZENoaWxkKHRoaXMuc2lkZWJhckxlZnRCdXR0b24pXHJcbiAgICAgICAgICAgIHRoaXMuaG9tZS5hcHBlbmRDaGlsZCh0aGlzLnVzZXJQcm9maWxlQnV0dG9uKVxyXG4gICAgICAgICAgICB0aGlzLnNpZGViYXJMZWZ0QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9nZ2xlU2lkZWJhckxlZnQuYmluZCh0aGlzKSlcclxuICAgICAgICAgICAgdGhpcy51c2VyUHJvZmlsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZVVzZXJQcm9maWxlLmJpbmQodGhpcykpXHJcbiAgICAgICAgfSAgXHJcbiAgICB9XHJcblxyXG4gICAgdGhlcmVBcmVCdXR0b25zKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbnNfZm9yX2hpZGRlbl9zaWRlYmFycycpLmxlbmd0aCAhPT0gMFxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVNpZGViYXJMZWZ0KGUpXHJcbiAgICB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgbGV0IHNpZGViYXJMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXItbGVmdCcpXHJcbiAgICAgICAgY29uc3Qgc2lkZWJhckxlZnRWaXNpYmxlQ2xhc3NOYW1lID0gJ3Zpc2libGVfc2lkZWJhcl9sZWZ0J1xyXG4gICAgICAgIHRoaXMudG9nZ2xlRWxlbWVudENsYXNzbmFtZShzaWRlYmFyTGVmdCwgc2lkZWJhckxlZnRWaXNpYmxlQ2xhc3NOYW1lKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZVRvVG9nZ2xlIFxyXG4gICAgICovXHJcbiAgICB0b2dnbGVFbGVtZW50Q2xhc3NuYW1lKGVsZW1lbnQsIGNsYXNzTmFtZVRvVG9nZ2xlKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCFlbGVtZW50SGFzQ2xhc3NOYW1lKGVsZW1lbnQsIGNsYXNzTmFtZVRvVG9nZ2xlKSl7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZV9zaWRlYmFyJylcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZVRvVG9nZ2xlKVxyXG4gICAgICAgICAgICBpZighdGhpcy5pc01vYmlsZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlY3JlYXNlRWxlbWVudFdpZHRoKHRoaXMuY29udGVudCwgZWxlbWVudC5vZmZzZXRXaWR0aClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuaXNNb2JpbGUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZWFzZUVsZW1lbnRXaWR0aCh0aGlzLmNvbnRlbnQsIGVsZW1lbnQub2Zmc2V0V2lkdGgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZVRvVG9nZ2xlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCDDqWzDqW1lbnQgZG9udCBsYSBsYXJnZXVyIGVzdCDDoCBkaW1pbnVlclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvZ2dsZWRFbGVtZW50V2lkdGggbGFyZ2V1ciBkZSBsJ8OpbMOpbcOpbnQgcXVpIHNlcmEgZMOpZHVpdCDDoCB7ZWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgZGVjcmVhc2VFbGVtZW50V2lkdGgoZWxlbWVudCwgdG9nZ2xlZEVsZW1lbnRXaWR0aClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50V2lkdGhJblBlcmNlbnQgPSB0aGlzLmNvbnZlcnRUb1dpbmRvd1BlcmNlbnQoZWxlbWVudC5vZmZzZXRXaWR0aCAtIHRvZ2dsZWRFbGVtZW50V2lkdGgpXHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IGVsZW1lbnRXaWR0aEluUGVyY2VudCArICclJ1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnZlcnRUb1dpbmRvd1BlcmNlbnQoZWxlbWVudFdpZHRoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHBhcnNlRmxvYXQoMTAwIC8gd2luZG93LmlubmVyV2lkdGggKiBlbGVtZW50V2lkdGgpLnRvRml4ZWQoMykpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgw6lsw6ltZW50IGRvbnQgbGEgbGFyZ2V1ciBlc3Qgw6AgYXVnbWVudGVyXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdG9nZ2xlZEVsZW1lbnRXaWR0aCBsYXJnZXVyIGRlIGwnw6lsw6ltw6ludCBxdWkgc2VyYSBham91dMOpZSDDoCB7ZWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgaW5jcmVhc2VFbGVtZW50V2lkdGgoZWxlbWVudCwgdG9nZ2xlZEVsZW1lbnRXaWR0aClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50V2lkdGhJblBlcmNlbnQgPSB0aGlzLmNvbnZlcnRUb1dpbmRvd1BlcmNlbnQoZWxlbWVudC5vZmZzZXRXaWR0aCArIHRvZ2dsZWRFbGVtZW50V2lkdGgpXHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IGVsZW1lbnRXaWR0aEluUGVyY2VudCArICclJ1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVVzZXJQcm9maWxlKGUpXHJcbiAgICB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgbGV0IHVzZXJQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItcHJvZmlsZS1yaWdodCcpXHJcbiAgICAgICAgY29uc3QgdXNlclByb2ZpbGVWaXNpYmxlQ2xhc3NOYW1lID0gJ3Zpc2libGVfdXNlcl9wcm9maWxlJ1xyXG4gICAgICAgIHRoaXMudG9nZ2xlRWxlbWVudENsYXNzbmFtZSh1c2VyUHJvZmlsZSwgdXNlclByb2ZpbGVWaXNpYmxlQ2xhc3NOYW1lKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlck1lbnVCYWNrVG9TaWRlYmFyTGVmdElmTmVjZXNzYXJ5KClcclxuICAgIHtcclxuICAgICAgICBsZXQgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51JylcclxuICAgICAgICBpZihtZW51ICE9PSBudWxsKXtcclxuICAgICAgICAgICAgdGhpcy5ob21lLnByZXBlbmQobWVudSlcclxuICAgICAgICAgICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKCdtZW51JylcclxuICAgICAgICAgICAgbWVudS5jbGFzc0xpc3QuYWRkKCdzaWRlYmFyLWxlZnQnKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5TGFyZ2VTY3JlZW4oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubWVkaXVtQ291bnQgPSAwXHJcbiAgICAgICAgaWYodGhpcy50aGVyZUFyZUJ1dHRvbnMoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUJ1dHRvbnNGb3JIaWRkZW5TaWRlYmFycygpXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVmlzaWJsZUNsYXNzbmFtZUluU2lkZWJhcnMoKVxyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuc3R5bGUud2lkdGggPSAnNzQlJ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVSZXZpc2lvbkhlYWRMYWJlbHMoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucmV2aXNpb25IZWFkcyA9IGNyZWF0ZUFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZpc2lvbl9oZWFkJykpXHJcbiAgICAgICAgaWYodGhpcy5yZXZpc2lvbkhlYWRzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA8IDcwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlUmV2aXNpb25IZWFkTGFiZWxzVG9JY29ucygpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXVzZUxldHRlcnNGb3JSZXZpc2lvbkxhYmVscygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVwbGFjZVJldmlzaW9uSGVhZExhYmVsc1RvSWNvbnMoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucmV2aXNpb25IZWFkcy5mb3JFYWNoKHJldmlzaW9uSGVhZCA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXZpc2lvbkhlYWRQYXJhZ3JhcGhzID0gY3JlYXRlQ29uc3RBcnJheShyZXZpc2lvbkhlYWQuY2hpbGRyZW4pXHJcbiAgICAgICAgICAgIGlmKHRoaXMucmV2aXNpb25IZWFkc0NoaWxkcmVuW3RoaXMucmV2aXNpb25IZWFkcy5pbmRleE9mKHJldmlzaW9uSGVhZCldID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgIHRoaXMucmV2aXNpb25IZWFkc0NoaWxkcmVuW3RoaXMucmV2aXNpb25IZWFkcy5pbmRleE9mKHJldmlzaW9uSGVhZCldID0gcmV2aXNpb25IZWFkUGFyYWdyYXBocyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3JlYWNoQXJyYXlFbGVtZW50cyhyZXZpc2lvbkhlYWRQYXJhZ3JhcGhzLCB0aGlzLnJlcGxhY2VUb0ljb25zKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmFncmFwaCBcclxuICAgICAqL1xyXG4gICAgcmVwbGFjZVRvSWNvbnMocGFyYWdyYXBoKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBpY29uID0gY3JlYXRlRWxlbWVudCgnaScpXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoZWxlbWVudEhhc0NsYXNzTmFtZShwYXJhZ3JhcGgsICdzdWJqZWN0Jykpe1xyXG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ZhcycpXHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnZmEtYm9vaycpXHJcbiAgICAgICAgfWVsc2UgaWYoZWxlbWVudEhhc0NsYXNzTmFtZShwYXJhZ3JhcGgsICdjaGFwdGVyJykpe1xyXG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2ZhcycpXHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnZmEtYm9va21hcmsnKVxyXG4gICAgICAgIH1lbHNlIGlmKGVsZW1lbnRIYXNDbGFzc05hbWUocGFyYWdyYXBoLCAndGltZScpKSB7XHJcbiAgICAgICAgICAgIGljb24uaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci13YXRjaFwiPlxyXG4gICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjdcIj48L2NpcmNsZT5cclxuICAgICAgICAgICAgPHBvbHlsaW5lIHBvaW50cz1cIjEyIDkgMTIgMTIgMTMuNSAxMy41XCI+PC9wb2x5bGluZT5cclxuICAgICAgICAgICAgPHBhdGggZD1cIk0xNi41MSAxNy4zNWwtLjM1IDMuODNhMiAyIDAgMCAxLTIgMS44Mkg5LjgzYTIgMiAwIDAgMS0yLTEuODJsLS4zNS0zLjgzbS4wMS0xMC43bC4zNS0zLjgzQTIgMiAwIDAgMSA5LjgzIDFoNC4zNWEyIDIgMCAwIDEgMiAxLjgybC4zNSAzLjgzXCI+XHJcbiAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgPC9zdmc+YFxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHBhcmFncmFwaC5yZXBsYWNlV2l0aChpY29uKVxyXG4gICAgfVxyXG5cclxuICAgIHJldXNlTGV0dGVyc0ZvclJldmlzaW9uTGFiZWxzKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmZpcnN0UmV2aXNpb25IZWFkUGFyYWdyYXBoc0NvcHkgPSBbXVxyXG4gICAgICAgIGlmKHRoaXMucmV2aXNpb25IZWFkc0NoaWxkcmVuICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmV2aXNpb25IZWFkcyA9IGNyZWF0ZUFycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXZpc2lvbl9oZWFkJykpXHJcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kTGFiZWxQYXJhZ3JhcGhzRm9yZWFjaFJldmlzaW9uSGVhZCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZExhYmVsUGFyYWdyYXBoc0ZvcmVhY2hSZXZpc2lvbkhlYWQoKVxyXG4gICAge1xyXG4gICAgICAgIGZvcihjb25zdCByZXZpc2lvbkhlYWRJbmRleCBpbiB0aGlzLnJldmlzaW9uSGVhZHNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucmV2aXNpb25IZWFkc0NoaWxkcmVuW3JldmlzaW9uSGVhZEluZGV4XS5mb3JFYWNoKHJldmlzaW9uSGVhZFBhcmFncmFwaCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZExhYmVsUGFyYWdyYXBoc1RvQVJldmlzaW9uSGVhZChyZXZpc2lvbkhlYWRQYXJhZ3JhcGgsIHJldmlzaW9uSGVhZEluZGV4KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRMYWJlbFBhcmFncmFwaHNUb0FSZXZpc2lvbkhlYWQocmV2aXNpb25IZWFkUGFyYWdyYXBoLCByZXZpc2lvbkhlYWRJbmRleClcclxuICAgIHtcclxuICAgICAgICBsZXQgY3VycmVudExvb3BSZXZpc2lvbkhlYWQgPSB0aGlzLnJldmlzaW9uSGVhZHNbcmV2aXNpb25IZWFkSW5kZXhdXHJcbiAgICAgICAgaWYoY3JlYXRlQXJyYXkoY3VycmVudExvb3BSZXZpc2lvbkhlYWQuY2hpbGRyZW4pLmxlbmd0aCA9PT0gMyl7XHJcbiAgICAgICAgICAgIGN1cnJlbnRMb29wUmV2aXNpb25IZWFkLmlubmVySFRNTCA9IFwiXCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHJldmlzaW9uSGVhZFBhcmFncmFwaC5ub2RlTmFtZSA9PT0gJ1AnKXtcclxuICAgICAgICAgICAgdGhpcy5maXJzdFJldmlzaW9uSGVhZFBhcmFncmFwaHNDb3B5LnB1c2gocmV2aXNpb25IZWFkUGFyYWdyYXBoLmNsb25lTm9kZSh0cnVlKSlcclxuICAgICAgICAgICAgY3VycmVudExvb3BSZXZpc2lvbkhlYWQuYXBwZW5kQ2hpbGQocmV2aXNpb25IZWFkUGFyYWdyYXBoKVxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcGFyYWdyYXBoSW5kZXggPSB0aGlzLnJldmlzaW9uSGVhZHNDaGlsZHJlbltyZXZpc2lvbkhlYWRJbmRleF0uaW5kZXhPZihyZXZpc2lvbkhlYWRQYXJhZ3JhcGgpXHJcbiAgICAgICAgICAgIGN1cnJlbnRMb29wUmV2aXNpb25IZWFkLmFwcGVuZENoaWxkKHRoaXMuZmlyc3RSZXZpc2lvbkhlYWRQYXJhZ3JhcGhzQ29weVtwYXJhZ3JhcGhJbmRleF0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMucmV2aXNpb25IZWFkcy5sZW5ndGggPT09IDIgJiYgdGhpcy5yZXZpc2lvbkhlYWRzQ2hpbGRyZW4ubGVuZ3RoID09PSAxKXtcclxuICAgICAgICAgICAgdGhpcy5yZXZpc2lvbkhlYWRzWzFdLmFwcGVuZENoaWxkKHJldmlzaW9uSGVhZFBhcmFncmFwaClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVmlzaWJsZUNsYXNzbmFtZUluU2lkZWJhcnMoKVxyXG4gICAge1xyXG4gICAgICAgIGxldCB2aXNpYmxlU2lkZWJhckxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlzaWJsZV9zaWRlYmFyX2xlZnQnKVxyXG4gICAgICAgIGxldCB2aXNpYmxlVXNlclByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlzaWJsZV91c2VyX3Byb2ZpbGUnKVxyXG4gICAgICAgIGlmKHZpc2libGVTaWRlYmFyTGVmdCl7XHJcbiAgICAgICAgICAgIHZpc2libGVTaWRlYmFyTGVmdC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlX3NpZGViYXJfbGVmdCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHZpc2libGVVc2VyUHJvZmlsZSl7XHJcbiAgICAgICAgICAgIHZpc2libGVVc2VyUHJvZmlsZS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlX3VzZXJfcHJvZmlsZScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///252\n")}}]);