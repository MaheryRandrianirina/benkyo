"use strict";(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[868],{868:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ playSubject)\n/* harmony export */ });\n/* harmony import */ var _Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(804);\n/* harmony import */ var _xhr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(124);\n/* harmony import */ var _stopRevision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(585);\n/* harmony import */ var _Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(337);\n\n\n\n\nvar defaultTimeValue = 1490;\nvar body = document.body;\nvar interval;\nvar intervalDuringPause;\nvar intervalOfChronometer;\n/**\r\n * la valeur du temps à t = 0 cad au début quand la revision vient de commencer\r\n * La véritable valeur c'est 0 mais la valeur actuelle est juste pour les tests\r\n * @var number \r\n */\n\nvar time = defaultTimeValue;\nvar timeForRevisionChrono = defaultTimeValue;\nvar timeStop = 25; // in minutes\n\nvar playButton;\nvar playedRevisionInfosContainer;\nvar circular;\n/**\r\n * Launch the revision\r\n * @param {Event} e \r\n */\n\nfunction playSubject(e) {\n  e.preventDefault();\n  playButton = e.target;\n  var content = document.querySelector('.content');\n  var playedRevisionContainer = playButton.parentElement.parentElement.parentElement.parentElement;\n  playedRevisionInfosContainer = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)('div', \"played-revision-container\");\n  var notplayedRevisionInfosContainer = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)('div', \"not-played-revision-container\");\n  var revisionHead = content.querySelector('.revision_head');\n  var revisionHeadClone = revisionHead.cloneNode(true);\n  var revisionBodies = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_3__/* .createArray */ .Ri)(content.querySelectorAll('.revision_body'));\n  var anotherTimeButton = document.querySelectorAll('.another-time-revision-button');\n  revisionBodies.forEach(function (revisionBody) {\n    if (revisionBody !== playedRevisionContainer) {\n      notplayedRevisionInfosContainer.appendChild(revisionHeadClone);\n      notplayedRevisionInfosContainer.appendChild(revisionBody);\n      content.appendChild(notplayedRevisionInfosContainer);\n    } else {\n      playedRevisionInfosContainer.appendChild(revisionHead);\n      playedRevisionInfosContainer.appendChild(revisionBody);\n      content.appendChild(playedRevisionInfosContainer);\n    }\n\n    if (window.innerWidth > 600) {\n      playedRevisionInfosContainer.classList.add('active-revision');\n    } else {\n      playedRevisionInfosContainer.classList.add('active-sm-revision');\n    }\n\n    notplayedRevisionInfosContainer.classList.add('not-active-revisions');\n  });\n  anotherTimeButton.forEach(function (btn) {\n    btn.style.display = \"none\";\n  });\n  var playContainer = playButton.parentElement;\n  var pauseButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)('i', 'fas fa-pause revision-button revision-pause');\n  toggleRemoveOrAppendElements(playContainer, playButton, pauseButton);\n  var stopButtonContainer = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)('div', 'stop_button');\n  var stop = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)('i', 'fas fa-stop stop');\n  stopButtonContainer.appendChild(stop);\n  playedRevisionContainer.querySelector('.buttons').appendChild(stopButtonContainer);\n\n  if (stop !== null) {\n    stop.addEventListener('click', _stopRevision__WEBPACK_IMPORTED_MODULE_1__/* .stopRevision */ .gX);\n  }\n\n  myInterval();\n  createChronometer(timeStop, timeForRevisionChrono);\n  pauseButton.addEventListener('click', function () {\n    clearInterval(interval);\n    clearInterval(intervalOfChronometer); //on remet le timer à sa valeur au début\n\n    time = defaultTimeValue;\n    stop.removeEventListener('click', _stopRevision__WEBPACK_IMPORTED_MODULE_1__/* .stopRevision */ .gX); //on déclenche ceci pour effacer le chronometre en cours même si ce n'est pas encore terminé\n\n    removeChronometer(playedRevisionInfosContainer, circular);\n    pauseMoment(0.25);\n    var otherPlayButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)('i', 'fas fa-play revision-button other-revision-play');\n    toggleRemoveOrAppendElements(playContainer, pauseButton, otherPlayButton);\n    clickOnThePlayOnlyAfterPause({\n      playContainer: playContainer,\n      playButton: otherPlayButton,\n      pauseButton: pauseButton\n    }, myInterval, {\n      timeStop: timeStop,\n      timeForRevisionChrono: timeForRevisionChrono\n    });\n  }); //on va peut-être utiliser le localstorage ou sessionstorage\n  // la solution ci-après est est juste d'urgence avant de trouver la bonne afin de ne pas\n  //faire d'autres requêtes sql\n\n  (0,_xhr__WEBPACK_IMPORTED_MODULE_0__/* [\"default\"] */ .Z)([], {\n    method: \"GET\",\n    url: \"/array-calendar-content\"\n  });\n  playButton.removeEventListener('click', playSubject);\n}\n/**\r\n * remove an element then append another element in the same place\r\n * @param {HTMLElement} parentElement \r\n * @param {HTMLElement} toRemoveElement \r\n * @param {HTMLElement} toAppendElement \r\n */\n\nfunction toggleRemoveOrAppendElements(parentElement, toRemoveElement, toAppendElement) {\n  parentElement.removeChild(toRemoveElement);\n  parentElement.appendChild(toAppendElement);\n}\n/**\r\n * launch the pause moment specifying the duration in parameter\r\n * @param {int} duration pause duration in minutes\r\n * @return false qui indique que le moment de faire la pause est terminé\r\n */\n\n\nfunction pauseMoment(duration) {\n  console.log(\"dans pauseMoment\");\n  var timeBegin = 0;\n  var pauseDuration = duration * 60; //toggleRemoveOrAppendElements(playContainer, pauseButton, playButton)\n\n  createChronometer(duration, timeBegin);\n  intervalDuringPause = setInterval(function () {\n    timeBegin++;\n\n    if (timeBegin === pauseDuration) {\n      clearInterval(intervalDuringPause);\n      var pauseOverDialog = (0,_stopRevision__WEBPACK_IMPORTED_MODULE_1__/* .createDialog */ .vf)(\"dialog\", \"\\n            <p>La pause est termin\\xE9e !</p>\\n            <button class='ok'>OK</button>\\n            \");\n      var okAfterPause = pauseOverDialog.querySelector('.ok');\n      okAfterPause.addEventListener('click', function () {\n        (0,_stopRevision__WEBPACK_IMPORTED_MODULE_1__/* .removeDialog */ .pE)({\n          dialog: pauseOverDialog,\n          body: body\n        }, \"removeDialog\");\n      });\n    }\n  }, 1000);\n}\n/**\r\n * sets an interval of revision duration before pause\r\n */\n\n\nfunction myInterval() {\n  var timeToStop = timeStop * 60;\n  interval = setInterval(function () {\n    time++;\n\n    if (time === timeToStop) {\n      var dialog = (0,_stopRevision__WEBPACK_IMPORTED_MODULE_1__/* .createDialog */ .vf)(\"dialog pause-dialog\", \"\\n            <p>C'est le moment de faire une pause ! <span style='font-weight:bold;'>Mettez une alarme de 5 min<span></p>\\n            <button class='ok'>OK</button><button class='no'>Annuler</button>\\n            \");\n      var ok = dialog.querySelector('.ok');\n      var no = dialog.querySelector('.no');\n      ok.addEventListener('click', function () {\n        clearInterval(interval);\n        var pauseButton = document.querySelector('.revision-pause');\n        var playContainer = pauseButton.parentElement;\n        var playButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)('i', 'fas fa-play revision-button other-revision-play');\n        toggleRemoveOrAppendElements(playContainer, pauseButton, playButton);\n        time = defaultTimeValue;\n        pauseMoment(0.25);\n        (0,_stopRevision__WEBPACK_IMPORTED_MODULE_1__/* .removeDialog */ .pE)({\n          dialog: dialog,\n          body: body\n        }, \"removeDialog\");\n        clickOnThePlayOnlyAfterPause({\n          playContainer: playContainer,\n          playButton: playButton,\n          pauseButton: pauseButton\n        }, myInterval, {\n          timeStop: timeStop,\n          timeForRevisionChrono: timeForRevisionChrono\n        });\n      });\n      no.addEventListener('click', function () {\n        (0,_stopRevision__WEBPACK_IMPORTED_MODULE_1__/* .removeDialog */ .pE)({\n          dialog: dialog,\n          body: body\n        }, \"removeDialog\");\n      });\n    }\n  }, 1000);\n}\n/**\r\n * ne permet le click sur le play que lorsque la pause est terminée\r\n * @param {{playContainer: HTMLElement, playButton: HTMLElement, pauseButton: HTMLElement}} elements elements html nécessaires\r\n * @param {Callback} callback l'interval à éxecuter\r\n * @param {{timeStop: number, timeForRevisionChrono: number}} forChronometer le temps pour arrêter le chrono et sa durée\r\n */\n\n\nfunction clickOnThePlayOnlyAfterPause(elements, callback, forChronometer) {\n  setTimeout(function () {\n    elements.playButton.addEventListener('click', function () {\n      console.log(\" play button clicked\");\n      toggleRemoveOrAppendElements(elements.playContainer, elements.playButton, elements.pauseButton);\n      callback();\n      createChronometer(forChronometer.timeStop, forChronometer.timeForRevisionChrono);\n    });\n  }, 15000); // ON VA CHANGER LA FONCTION POUR QUE CETTE VALEUR SOIT DYNAMIQUE\n}\n\nfunction otherPlayButtonClick(elements, callback, forChronometer) {\n  toggleRemoveOrAppendElements(playContainer, otherPlayButton, pauseButton);\n  myInterval();\n  createChronometer(timeStop, timeForRevisionChrono);\n}\n/**\r\n * create a chornometer for revision or pause moment\r\n * @param {int} duration in minutes\r\n */\n\n\nfunction createChronometer(duration, timeForStop) {\n  var d = duration * 60; //transform duration to seconds\n\n  circular = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)(\"div\", \"circular\");\n  var inner = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)(\"div\", \"inner\");\n  var circle = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)(\"div\", \"circle\");\n  var leftBar = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)(\"div\", \"bar left\");\n  var right = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)(\"div\", \"bar right\");\n  var leftProgress = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)(\"div\", \"progress\");\n  var rightProgress = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_2__/* .createElement */ .az)(\"div\", \"progress\");\n  playedRevisionInfosContainer.appendChild(circular);\n  circular.appendChild(inner);\n  circular.appendChild(circle);\n  circle.appendChild(leftBar);\n  circle.appendChild(right);\n  leftBar.appendChild(leftProgress);\n  right.appendChild(rightProgress); //IL FAUT SUIVRE CETTE LOGIQUE LORS DE LA PRODUCTION EN CHANGEANT ((d - timeForStop) / 2) PAR DURATION\n  //IL FAUDRA AUSSI ENLEVER TIMEFORSTOP ET NE FAIRE UN CONDITION POUR ARRETER L'INTERVAL QUE SI D === 0\n\n  leftProgress.style.animationDuration = (d - timeForStop) / 2 + 's';\n  rightProgress.style.animationDelay = (d - timeForStop) / 2 + 's';\n  rightProgress.style.animationDuration = (d - timeForStop) / 2 + 's';\n  intervalOfChronometer = setInterval(function () {\n    d--;\n    var minutesLeft = Math.floor(d / 60);\n    var secondsLeft = d % 60;\n    inner.innerHTML = \"<p id='chronometer'>\".concat(minutesLeft, \":\").concat(secondsLeft, \"</p>\"); //MISY ERREUR NY REMOVECHRONOMETRE SATRIA EFA NIFAFA TALOA LE TOKONY HOFAFANA\n\n    if (d === timeForStop) {\n      removeChronometer(playedRevisionInfosContainer, circular);\n      clearInterval(intervalOfChronometer);\n    }\n  }, 1000);\n}\n/**\r\n * removes the chronometer\r\n * @param {HTMLElement} parentElement \r\n * @param {HTMLElement} toRemove \r\n */\n\n\nfunction removeChronometer(parentElement, toRemove) {\n  console.log(parentElement, toRemove);\n\n  if (toRemove.parentElement !== null) {\n    if (toRemove.parentElement.classList.contains('played-revision-container')) {\n      parentElement.removeChild(toRemove);\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODY4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUZBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9wbGF5LmpzPzQ2N2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgcmVtb3ZlRWxlbWVudEZyb21ET00gfSBmcm9tIFwiLi9GdW5jdGlvbnMvVG9vbHMvRE9NVG9vbHNcIlxyXG5pbXBvcnQgeGhyIGZyb20gXCIuL3hoclwiXHJcbmltcG9ydCB7c3RvcFJldmlzaW9uLCBjcmVhdGVEaWFsb2csIHJlbW92ZURpYWxvZyB9IGZyb20gXCIuL3N0b3BSZXZpc2lvblwiXHJcbmltcG9ydCB7IGNyZWF0ZUFycmF5IH0gZnJvbSBcIi4vRnVuY3Rpb25zL1Rvb2xzL1Rvb2xzXCJcclxuXHJcbmNvbnN0IGRlZmF1bHRUaW1lVmFsdWUgPSAxNDkwXHJcbmxldCBib2R5ID0gZG9jdW1lbnQuYm9keVxyXG52YXIgaW50ZXJ2YWxcclxubGV0IGludGVydmFsRHVyaW5nUGF1c2UgXHJcbmxldCBpbnRlcnZhbE9mQ2hyb25vbWV0ZXJcclxuLyoqXHJcbiAqIGxhIHZhbGV1ciBkdSB0ZW1wcyDDoCB0ID0gMCBjYWQgYXUgZMOpYnV0IHF1YW5kIGxhIHJldmlzaW9uIHZpZW50IGRlIGNvbW1lbmNlclxyXG4gKiBMYSB2w6lyaXRhYmxlIHZhbGV1ciBjJ2VzdCAwIG1haXMgbGEgdmFsZXVyIGFjdHVlbGxlIGVzdCBqdXN0ZSBwb3VyIGxlcyB0ZXN0c1xyXG4gKiBAdmFyIG51bWJlciBcclxuICovXHJcbmxldCB0aW1lID0gZGVmYXVsdFRpbWVWYWx1ZSBcclxubGV0IHRpbWVGb3JSZXZpc2lvbkNocm9ubyA9IGRlZmF1bHRUaW1lVmFsdWVcclxubGV0IHRpbWVTdG9wID0gMjUgLy8gaW4gbWludXRlc1xyXG5sZXQgcGxheUJ1dHRvblxyXG5sZXQgcGxheWVkUmV2aXNpb25JbmZvc0NvbnRhaW5lclxyXG5sZXQgY2lyY3VsYXJcclxuXHJcbi8qKlxyXG4gKiBMYXVuY2ggdGhlIHJldmlzaW9uXHJcbiAqIEBwYXJhbSB7RXZlbnR9IGUgXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwbGF5U3ViamVjdChlKXtcclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgcGxheUJ1dHRvbiA9IGUudGFyZ2V0XHJcbiAgICBcclxuICAgIGxldCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKVxyXG4gICAgbGV0IHBsYXllZFJldmlzaW9uQ29udGFpbmVyID0gcGxheUJ1dHRvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50XHJcbiAgICBwbGF5ZWRSZXZpc2lvbkluZm9zQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2JywgXCJwbGF5ZWQtcmV2aXNpb24tY29udGFpbmVyXCIpXHJcbiAgICBsZXQgbm90cGxheWVkUmV2aXNpb25JbmZvc0NvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIFwibm90LXBsYXllZC1yZXZpc2lvbi1jb250YWluZXJcIilcclxuICAgIGxldCByZXZpc2lvbkhlYWQgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpc2lvbl9oZWFkJylcclxuICAgIGxldCByZXZpc2lvbkhlYWRDbG9uZSA9IHJldmlzaW9uSGVhZC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgIGxldCByZXZpc2lvbkJvZGllcyA9IGNyZWF0ZUFycmF5KGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmlzaW9uX2JvZHknKSlcclxuICAgIGxldCBhbm90aGVyVGltZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbm90aGVyLXRpbWUtcmV2aXNpb24tYnV0dG9uJylcclxuICAgIFxyXG4gICAgcmV2aXNpb25Cb2RpZXMuZm9yRWFjaChyZXZpc2lvbkJvZHkgPT4ge1xyXG4gICAgICAgIGlmKHJldmlzaW9uQm9keSAhPT0gcGxheWVkUmV2aXNpb25Db250YWluZXIpe1xyXG4gICAgICAgICAgICBub3RwbGF5ZWRSZXZpc2lvbkluZm9zQ29udGFpbmVyLmFwcGVuZENoaWxkKHJldmlzaW9uSGVhZENsb25lKVxyXG4gICAgICAgICAgICBub3RwbGF5ZWRSZXZpc2lvbkluZm9zQ29udGFpbmVyLmFwcGVuZENoaWxkKHJldmlzaW9uQm9keSlcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChub3RwbGF5ZWRSZXZpc2lvbkluZm9zQ29udGFpbmVyKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBwbGF5ZWRSZXZpc2lvbkluZm9zQ29udGFpbmVyLmFwcGVuZENoaWxkKHJldmlzaW9uSGVhZClcclxuICAgICAgICAgICAgcGxheWVkUmV2aXNpb25JbmZvc0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZXZpc2lvbkJvZHkpXHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQocGxheWVkUmV2aXNpb25JbmZvc0NvbnRhaW5lcilcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPiA2MDApIHtcclxuICAgICAgICAgICAgcGxheWVkUmV2aXNpb25JbmZvc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtcmV2aXNpb24nKVxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgcGxheWVkUmV2aXNpb25JbmZvc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtc20tcmV2aXNpb24nKVxyXG4gICAgICAgIH1cclxuICAgICAgICBub3RwbGF5ZWRSZXZpc2lvbkluZm9zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ25vdC1hY3RpdmUtcmV2aXNpb25zJylcclxuICAgIH0pXHJcblxyXG4gICAgYW5vdGhlclRpbWVCdXR0b24uZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIH0pXHJcblxyXG4gICAgbGV0IHBsYXlDb250YWluZXIgPSBwbGF5QnV0dG9uLnBhcmVudEVsZW1lbnRcclxuICAgIGxldCBwYXVzZUJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoJ2knLCAnZmFzIGZhLXBhdXNlIHJldmlzaW9uLWJ1dHRvbiByZXZpc2lvbi1wYXVzZScpXHJcbiAgICB0b2dnbGVSZW1vdmVPckFwcGVuZEVsZW1lbnRzKHBsYXlDb250YWluZXIsIHBsYXlCdXR0b24sIHBhdXNlQnV0dG9uKVxyXG4gICAgXHJcbiAgICBsZXQgc3RvcEJ1dHRvbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsICdzdG9wX2J1dHRvbicpXHJcbiAgICBsZXQgc3RvcCA9IGNyZWF0ZUVsZW1lbnQoJ2knLCAnZmFzIGZhLXN0b3Agc3RvcCcpXHJcbiAgICBzdG9wQnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHN0b3ApXHJcbiAgICBwbGF5ZWRSZXZpc2lvbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYnV0dG9ucycpLmFwcGVuZENoaWxkKHN0b3BCdXR0b25Db250YWluZXIpXHJcblxyXG4gICAgaWYoc3RvcCAhPT0gbnVsbCl7XHJcbiAgICAgICAgc3RvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3BSZXZpc2lvbilcclxuICAgIH1cclxuXHJcbiAgICBteUludGVydmFsKClcclxuICAgIGNyZWF0ZUNocm9ub21ldGVyKHRpbWVTdG9wLCB0aW1lRm9yUmV2aXNpb25DaHJvbm8pXHJcblxyXG4gICAgcGF1c2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbE9mQ2hyb25vbWV0ZXIpXHJcbiAgICAgICAgLy9vbiByZW1ldCBsZSB0aW1lciDDoCBzYSB2YWxldXIgYXUgZMOpYnV0XHJcbiAgICAgICAgdGltZSA9IGRlZmF1bHRUaW1lVmFsdWVcclxuICAgICAgICBzdG9wLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcFJldmlzaW9uKVxyXG4gICAgICAgIC8vb24gZMOpY2xlbmNoZSBjZWNpIHBvdXIgZWZmYWNlciBsZSBjaHJvbm9tZXRyZSBlbiBjb3VycyBtw6ptZSBzaSBjZSBuJ2VzdCBwYXMgZW5jb3JlIHRlcm1pbsOpXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVtb3ZlQ2hyb25vbWV0ZXIocGxheWVkUmV2aXNpb25JbmZvc0NvbnRhaW5lciwgY2lyY3VsYXIpXHJcbiAgICAgICAgXHJcbiAgICAgICAgcGF1c2VNb21lbnQoMC4yNSlcclxuXHJcbiAgICAgICAgbGV0IG90aGVyUGxheUJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoJ2knLCAnZmFzIGZhLXBsYXkgcmV2aXNpb24tYnV0dG9uIG90aGVyLXJldmlzaW9uLXBsYXknKVxyXG4gICAgICAgIHRvZ2dsZVJlbW92ZU9yQXBwZW5kRWxlbWVudHMocGxheUNvbnRhaW5lciwgcGF1c2VCdXR0b24sIG90aGVyUGxheUJ1dHRvbilcclxuXHJcbiAgICAgICAgY2xpY2tPblRoZVBsYXlPbmx5QWZ0ZXJQYXVzZSh7XHJcbiAgICAgICAgICAgIHBsYXlDb250YWluZXIgOiBwbGF5Q29udGFpbmVyLFxyXG4gICAgICAgICAgICBwbGF5QnV0dG9uIDogb3RoZXJQbGF5QnV0dG9uLFxyXG4gICAgICAgICAgICBwYXVzZUJ1dHRvbjogcGF1c2VCdXR0b25cclxuICAgICAgICB9LCBteUludGVydmFsLCB7XHJcbiAgICAgICAgICAgIHRpbWVTdG9wOiB0aW1lU3RvcCxcclxuICAgICAgICAgICAgdGltZUZvclJldmlzaW9uQ2hyb25vOiB0aW1lRm9yUmV2aXNpb25DaHJvbm9cclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pXHJcbiAgICAvL29uIHZhIHBldXQtw6p0cmUgdXRpbGlzZXIgbGUgbG9jYWxzdG9yYWdlIG91IHNlc3Npb25zdG9yYWdlXHJcbiAgICAvLyBsYSBzb2x1dGlvbiBjaS1hcHLDqHMgZXN0IGVzdCBqdXN0ZSBkJ3VyZ2VuY2UgYXZhbnQgZGUgdHJvdXZlciBsYSBib25uZSBhZmluIGRlIG5lIHBhc1xyXG4gICAgLy9mYWlyZSBkJ2F1dHJlcyByZXF1w6p0ZXMgc3FsXHJcbiAgICB4aHIoW10sIHtcclxuICAgICAgICBtZXRob2QgOiBcIkdFVFwiLFxyXG4gICAgICAgIHVybCA6IFwiL2FycmF5LWNhbGVuZGFyLWNvbnRlbnRcIlxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgcGxheUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlTdWJqZWN0KVxyXG59XHJcblxyXG4vKipcclxuICogcmVtb3ZlIGFuIGVsZW1lbnQgdGhlbiBhcHBlbmQgYW5vdGhlciBlbGVtZW50IGluIHRoZSBzYW1lIHBsYWNlXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudEVsZW1lbnQgXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRvUmVtb3ZlRWxlbWVudCBcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9BcHBlbmRFbGVtZW50IFxyXG4gKi9cclxuZnVuY3Rpb24gdG9nZ2xlUmVtb3ZlT3JBcHBlbmRFbGVtZW50cyhwYXJlbnRFbGVtZW50LCB0b1JlbW92ZUVsZW1lbnQsIHRvQXBwZW5kRWxlbWVudCl7XHJcbiAgICBwYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRvUmVtb3ZlRWxlbWVudClcclxuICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodG9BcHBlbmRFbGVtZW50KVxyXG59XHJcblxyXG4vKipcclxuICogbGF1bmNoIHRoZSBwYXVzZSBtb21lbnQgc3BlY2lmeWluZyB0aGUgZHVyYXRpb24gaW4gcGFyYW1ldGVyXHJcbiAqIEBwYXJhbSB7aW50fSBkdXJhdGlvbiBwYXVzZSBkdXJhdGlvbiBpbiBtaW51dGVzXHJcbiAqIEByZXR1cm4gZmFsc2UgcXVpIGluZGlxdWUgcXVlIGxlIG1vbWVudCBkZSBmYWlyZSBsYSBwYXVzZSBlc3QgdGVybWluw6lcclxuICovXHJcbmZ1bmN0aW9uIHBhdXNlTW9tZW50KGR1cmF0aW9uKXtcclxuICAgIGNvbnNvbGUubG9nKFwiZGFucyBwYXVzZU1vbWVudFwiKVxyXG4gICAgbGV0IHRpbWVCZWdpbiA9IDBcclxuICAgIGxldCBwYXVzZUR1cmF0aW9uID0gZHVyYXRpb24gKiA2MFxyXG4gICAgLy90b2dnbGVSZW1vdmVPckFwcGVuZEVsZW1lbnRzKHBsYXlDb250YWluZXIsIHBhdXNlQnV0dG9uLCBwbGF5QnV0dG9uKVxyXG5cclxuICAgIGNyZWF0ZUNocm9ub21ldGVyKGR1cmF0aW9uLCB0aW1lQmVnaW4pXHJcblxyXG4gICAgaW50ZXJ2YWxEdXJpbmdQYXVzZSA9IHNldEludGVydmFsKCgpPT57XHJcbiAgICAgICAgdGltZUJlZ2luKytcclxuICAgICAgICBpZih0aW1lQmVnaW4gPT09IHBhdXNlRHVyYXRpb24pe1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsRHVyaW5nUGF1c2UpXHJcblxyXG4gICAgICAgICAgICBsZXQgcGF1c2VPdmVyRGlhbG9nID0gY3JlYXRlRGlhbG9nKFwiZGlhbG9nXCIsIGBcclxuICAgICAgICAgICAgPHA+TGEgcGF1c2UgZXN0IHRlcm1pbsOpZSAhPC9wPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSdvayc+T0s8L2J1dHRvbj5cclxuICAgICAgICAgICAgYClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBva0FmdGVyUGF1c2UgPSBwYXVzZU92ZXJEaWFsb2cucXVlcnlTZWxlY3RvcignLm9rJylcclxuICAgICAgICAgICAgb2tBZnRlclBhdXNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgICAgICAgICAgICAgIHJlbW92ZURpYWxvZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nOiBwYXVzZU92ZXJEaWFsb2csXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keVxyXG4gICAgICAgICAgICAgICAgfSwgXCJyZW1vdmVEaWFsb2dcIilcclxuICAgICAgICAgICAgfSkgXHJcbiAgICAgICAgfVxyXG4gICAgfSwgMTAwMClcclxufVxyXG5cclxuLyoqXHJcbiAqIHNldHMgYW4gaW50ZXJ2YWwgb2YgcmV2aXNpb24gZHVyYXRpb24gYmVmb3JlIHBhdXNlXHJcbiAqL1xyXG5mdW5jdGlvbiBteUludGVydmFsKCl7XHJcbiAgICBsZXQgdGltZVRvU3RvcCA9IHRpbWVTdG9wICogNjBcclxuICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PntcclxuICAgICAgICB0aW1lKytcclxuICAgICAgICBpZih0aW1lID09PSB0aW1lVG9TdG9wKXtcclxuICAgICAgICAgICAgbGV0IGRpYWxvZyA9IGNyZWF0ZURpYWxvZyhcImRpYWxvZyBwYXVzZS1kaWFsb2dcIiwgYFxyXG4gICAgICAgICAgICA8cD5DJ2VzdCBsZSBtb21lbnQgZGUgZmFpcmUgdW5lIHBhdXNlICEgPHNwYW4gc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7Jz5NZXR0ZXogdW5lIGFsYXJtZSBkZSA1IG1pbjxzcGFuPjwvcD5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0nb2snPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0nbm8nPkFubnVsZXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgYClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBvayA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcub2snKVxyXG4gICAgICAgICAgICBsZXQgbm8gPSBkaWFsb2cucXVlcnlTZWxlY3RvcignLm5vJylcclxuXHJcbiAgICAgICAgICAgIG9rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcbiAgICAgICAgICAgICAgICBsZXQgcGF1c2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV2aXNpb24tcGF1c2UnKVxyXG4gICAgICAgICAgICAgICAgbGV0IHBsYXlDb250YWluZXIgPSBwYXVzZUJ1dHRvbi5wYXJlbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxheUJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoJ2knLCAnZmFzIGZhLXBsYXkgcmV2aXNpb24tYnV0dG9uIG90aGVyLXJldmlzaW9uLXBsYXknKVxyXG5cclxuICAgICAgICAgICAgICAgIHRvZ2dsZVJlbW92ZU9yQXBwZW5kRWxlbWVudHMocGxheUNvbnRhaW5lciwgcGF1c2VCdXR0b24sIHBsYXlCdXR0b24pXHJcblxyXG4gICAgICAgICAgICAgICAgdGltZSA9IGRlZmF1bHRUaW1lVmFsdWVcclxuXHJcbiAgICAgICAgICAgICAgICBwYXVzZU1vbWVudCgwLjI1KVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZW1vdmVEaWFsb2coe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZzogZGlhbG9nLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHlcclxuICAgICAgICAgICAgICAgIH0sIFwicmVtb3ZlRGlhbG9nXCIpXHJcblxyXG4gICAgICAgICAgICAgICAgY2xpY2tPblRoZVBsYXlPbmx5QWZ0ZXJQYXVzZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheUNvbnRhaW5lciA6IHBsYXlDb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheUJ1dHRvbiA6IHBsYXlCdXR0b24sXHJcbiAgICAgICAgICAgICAgICAgICAgcGF1c2VCdXR0b246IHBhdXNlQnV0dG9uXHJcbiAgICAgICAgICAgICAgICB9LCBteUludGVydmFsLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVN0b3A6IHRpbWVTdG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVGb3JSZXZpc2lvbkNocm9ubzogdGltZUZvclJldmlzaW9uQ2hyb25vXHJcbiAgICAgICAgICAgICAgICB9KSAgIFxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgbm8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlRGlhbG9nKHtcclxuICAgICAgICAgICAgICAgICAgICBkaWFsb2c6IGRpYWxvZyxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OiBib2R5XHJcbiAgICAgICAgICAgICAgICB9LCBcInJlbW92ZURpYWxvZ1wiKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9LCAxMDAwKVxyXG59XHJcblxyXG4vKipcclxuICogbmUgcGVybWV0IGxlIGNsaWNrIHN1ciBsZSBwbGF5IHF1ZSBsb3JzcXVlIGxhIHBhdXNlIGVzdCB0ZXJtaW7DqWVcclxuICogQHBhcmFtIHt7cGxheUNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHBsYXlCdXR0b246IEhUTUxFbGVtZW50LCBwYXVzZUJ1dHRvbjogSFRNTEVsZW1lbnR9fSBlbGVtZW50cyBlbGVtZW50cyBodG1sIG7DqWNlc3NhaXJlc1xyXG4gKiBAcGFyYW0ge0NhbGxiYWNrfSBjYWxsYmFjayBsJ2ludGVydmFsIMOgIMOpeGVjdXRlclxyXG4gKiBAcGFyYW0ge3t0aW1lU3RvcDogbnVtYmVyLCB0aW1lRm9yUmV2aXNpb25DaHJvbm86IG51bWJlcn19IGZvckNocm9ub21ldGVyIGxlIHRlbXBzIHBvdXIgYXJyw6p0ZXIgbGUgY2hyb25vIGV0IHNhIGR1csOpZVxyXG4gKi9cclxuZnVuY3Rpb24gY2xpY2tPblRoZVBsYXlPbmx5QWZ0ZXJQYXVzZShlbGVtZW50cywgY2FsbGJhY2ssIGZvckNocm9ub21ldGVyKXtcclxuICAgIHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICBlbGVtZW50cy5wbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIgcGxheSBidXR0b24gY2xpY2tlZFwiKVxyXG4gICAgICAgICAgICB0b2dnbGVSZW1vdmVPckFwcGVuZEVsZW1lbnRzKGVsZW1lbnRzLnBsYXlDb250YWluZXIsIGVsZW1lbnRzLnBsYXlCdXR0b24sIGVsZW1lbnRzLnBhdXNlQnV0dG9uKVxyXG4gICAgICAgICAgICBjYWxsYmFjaygpXHJcbiAgICAgICAgICAgIGNyZWF0ZUNocm9ub21ldGVyKGZvckNocm9ub21ldGVyLnRpbWVTdG9wLCBmb3JDaHJvbm9tZXRlci50aW1lRm9yUmV2aXNpb25DaHJvbm8pXHJcbiAgICAgICAgfSlcclxuICAgIH0sIDE1MDAwKSAvLyBPTiBWQSBDSEFOR0VSIExBIEZPTkNUSU9OIFBPVVIgUVVFIENFVFRFIFZBTEVVUiBTT0lUIERZTkFNSVFVRVxyXG59XHJcblxyXG5mdW5jdGlvbiBvdGhlclBsYXlCdXR0b25DbGljayhlbGVtZW50cywgY2FsbGJhY2ssIGZvckNocm9ub21ldGVyKXtcclxuICAgIHRvZ2dsZVJlbW92ZU9yQXBwZW5kRWxlbWVudHMocGxheUNvbnRhaW5lciwgb3RoZXJQbGF5QnV0dG9uLCBwYXVzZUJ1dHRvbilcclxuICAgIG15SW50ZXJ2YWwoKVxyXG4gICAgY3JlYXRlQ2hyb25vbWV0ZXIodGltZVN0b3AsIHRpbWVGb3JSZXZpc2lvbkNocm9ubylcclxufVxyXG4vKipcclxuICogY3JlYXRlIGEgY2hvcm5vbWV0ZXIgZm9yIHJldmlzaW9uIG9yIHBhdXNlIG1vbWVudFxyXG4gKiBAcGFyYW0ge2ludH0gZHVyYXRpb24gaW4gbWludXRlc1xyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ2hyb25vbWV0ZXIoZHVyYXRpb24sIHRpbWVGb3JTdG9wKXtcclxuICAgIGxldCBkID0gZHVyYXRpb24gKiA2MCAvL3RyYW5zZm9ybSBkdXJhdGlvbiB0byBzZWNvbmRzXHJcbiAgICBjaXJjdWxhciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJjaXJjdWxhclwiKVxyXG4gICAgbGV0IGlubmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImlubmVyXCIpXHJcbiAgICBsZXQgY2lyY2xlID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImNpcmNsZVwiKVxyXG4gICAgbGV0IGxlZnRCYXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiYmFyIGxlZnRcIilcclxuICAgIGxldCByaWdodCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJiYXIgcmlnaHRcIilcclxuICAgIGxldCBsZWZ0UHJvZ3Jlc3MgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwicHJvZ3Jlc3NcIilcclxuICAgIGxldCByaWdodFByb2dyZXNzID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcInByb2dyZXNzXCIpXHJcbiAgICBcclxuICAgIHBsYXllZFJldmlzaW9uSW5mb3NDb250YWluZXIuYXBwZW5kQ2hpbGQoY2lyY3VsYXIpXHJcbiAgICBjaXJjdWxhci5hcHBlbmRDaGlsZChpbm5lcilcclxuICAgIGNpcmN1bGFyLmFwcGVuZENoaWxkKGNpcmNsZSlcclxuICAgIGNpcmNsZS5hcHBlbmRDaGlsZChsZWZ0QmFyKVxyXG4gICAgY2lyY2xlLmFwcGVuZENoaWxkKHJpZ2h0KVxyXG4gICAgbGVmdEJhci5hcHBlbmRDaGlsZChsZWZ0UHJvZ3Jlc3MpXHJcbiAgICByaWdodC5hcHBlbmRDaGlsZChyaWdodFByb2dyZXNzKVxyXG4gICAgXHJcbiAgICAvL0lMIEZBVVQgU1VJVlJFIENFVFRFIExPR0lRVUUgTE9SUyBERSBMQSBQUk9EVUNUSU9OIEVOIENIQU5HRUFOVCAoKGQgLSB0aW1lRm9yU3RvcCkgLyAyKSBQQVIgRFVSQVRJT05cclxuICAgIC8vSUwgRkFVRFJBIEFVU1NJIEVOTEVWRVIgVElNRUZPUlNUT1AgRVQgTkUgRkFJUkUgVU4gQ09ORElUSU9OIFBPVVIgQVJSRVRFUiBMJ0lOVEVSVkFMIFFVRSBTSSBEID09PSAwXHJcbiAgICBsZWZ0UHJvZ3Jlc3Muc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSAoKGQgLSB0aW1lRm9yU3RvcCkgLyAyKSArICdzJ1xyXG4gICAgcmlnaHRQcm9ncmVzcy5zdHlsZS5hbmltYXRpb25EZWxheSA9ICgoZCAtIHRpbWVGb3JTdG9wKSAvIDIpICsgJ3MnXHJcbiAgICByaWdodFByb2dyZXNzLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID0gKChkIC0gdGltZUZvclN0b3ApIC8gMikgKyAncydcclxuICAgIFxyXG4gICAgaW50ZXJ2YWxPZkNocm9ub21ldGVyID0gc2V0SW50ZXJ2YWwoKCk9PntcclxuICAgICAgICBkLS1cclxuICAgICAgICBsZXQgbWludXRlc0xlZnQgPSBNYXRoLmZsb29yKGQgLyA2MCkgXHJcbiAgICAgICAgbGV0IHNlY29uZHNMZWZ0ID0gZCAlIDYwXHJcbiAgICAgICAgXHJcbiAgICAgICAgaW5uZXIuaW5uZXJIVE1MID0gYDxwIGlkPSdjaHJvbm9tZXRlcic+JHttaW51dGVzTGVmdH06JHtzZWNvbmRzTGVmdH08L3A+YFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vTUlTWSBFUlJFVVIgTlkgUkVNT1ZFQ0hST05PTUVUUkUgU0FUUklBIEVGQSBOSUZBRkEgVEFMT0EgTEUgVE9LT05ZIEhPRkFGQU5BXHJcbiAgICAgICAgaWYoZCA9PT0gdGltZUZvclN0b3Ape1xyXG4gICAgICAgICAgICByZW1vdmVDaHJvbm9tZXRlcihwbGF5ZWRSZXZpc2lvbkluZm9zQ29udGFpbmVyLGNpcmN1bGFyKVxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsT2ZDaHJvbm9tZXRlcilcclxuICAgICAgICB9ICAgICAgXHJcbiAgICB9LCAxMDAwKVxyXG59XHJcblxyXG4vKipcclxuICogcmVtb3ZlcyB0aGUgY2hyb25vbWV0ZXJcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50RWxlbWVudCBcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9SZW1vdmUgXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVDaHJvbm9tZXRlcihwYXJlbnRFbGVtZW50LCB0b1JlbW92ZSl7XHJcbiAgICBjb25zb2xlLmxvZyhwYXJlbnRFbGVtZW50LHRvUmVtb3ZlKVxyXG4gICAgaWYodG9SZW1vdmUucGFyZW50RWxlbWVudCAhPT0gbnVsbCl7XHJcbiAgICAgICAgaWYodG9SZW1vdmUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYXllZC1yZXZpc2lvbi1jb250YWluZXInKSl7XHJcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodG9SZW1vdmUpXHJcbiAgICAgICAgfVxyXG4gICAgfSAgXHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///868\n")}}]);