"use strict";(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[252],{804:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "$U": () => (/* binding */ showProgressBar),\n/* harmony export */   "HU": () => (/* binding */ createProgressbar),\n/* harmony export */   "az": () => (/* binding */ createElement),\n/* harmony export */   "cF": () => (/* binding */ elementHasClassName),\n/* harmony export */   "dd": () => (/* binding */ removeProgressbar),\n/* harmony export */   "e5": () => (/* binding */ removeElementFromDOM)\n/* harmony export */ });\n/* unused harmony export goUpToGrandParentGrandParent */\n/**\r\n * \r\n * @param {string} type \r\n * @param {string} className \r\n * @returns HTMLElement\r\n */\nfunction createElement(type) {\n  var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var element = document.createElement(type);\n\n  if (className !== null) {\n    element.className = className;\n  }\n\n  return element;\n}\n\nfunction createProgressbar() {\n  var progressBar = createElement(\'div\', "progress-bar");\n  document.body.appendChild(progressBar);\n  return progressBar;\n}\n\nfunction showProgressBar(progressBar, step) {\n  var widthToAdd = window.innerWidth / 4;\n  var width = 0;\n\n  for (var i = 0; i < step; i++) {\n    width += widthToAdd;\n    progressBar.style.width = width + "px";\n  }\n}\n\nfunction removeProgressbar() {\n  removeElementFromDOM(document.querySelector(\'.progress-bar\'));\n}\n/**\r\n * \r\n * @param {HTMLCollection} element \r\n */\n\n\nfunction goUpToGrandParentGrandParent(elements) {\n  elements.forEach(function (element) {\n    element.parentElement.parentElement.parentElement.parentElement.appendChild(element);\n  });\n}\n\nfunction elementHasClassName(element, className) {\n  return element.classList.contains(className);\n}\n/**\r\n * \r\n * @param {HTMLElement} element\r\n */\n\n\nfunction removeElementFromDOM(element) {\n  element.parentElement.removeChild(element);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvRnVuY3Rpb25zL1Rvb2xzL0RPTVRvb2xzLmpzPzQ1NDEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBcclxuICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBcclxuICogQHJldHVybnMgSFRNTEVsZW1lbnRcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgY2xhc3NOYW1lID0gbnVsbCkge1xyXG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpXHJcbiAgICBpZihjbGFzc05hbWUgIT09IG51bGwpIHtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlbGVtZW50XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2dyZXNzYmFyKClcclxue1xyXG4gICAgbGV0IHByb2dyZXNzQmFyID0gY3JlYXRlRWxlbWVudCgnZGl2JywgXCJwcm9ncmVzcy1iYXJcIilcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXIpXHJcbiAgICByZXR1cm4gcHJvZ3Jlc3NCYXJcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1Byb2dyZXNzQmFyKHByb2dyZXNzQmFyLCBzdGVwKVxyXG57XHJcbiAgICBsZXQgd2lkdGhUb0FkZCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gNFxyXG4gICAgbGV0IHdpZHRoID0gMFxyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHN0ZXA7IGkrKyl7XHJcbiAgICAgICAgd2lkdGggKz0gd2lkdGhUb0FkZFxyXG4gICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCJcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlUHJvZ3Jlc3NiYXIoKVxyXG57XHJcbiAgICByZW1vdmVFbGVtZW50RnJvbURPTShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZ3Jlc3MtYmFyJykpXHJcbn1cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge0hUTUxDb2xsZWN0aW9ufSBlbGVtZW50IFxyXG4gKi9cclxuZnVuY3Rpb24gZ29VcFRvR3JhbmRQYXJlbnRHcmFuZFBhcmVudChlbGVtZW50cykge1xyXG4gICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVsZW1lbnRIYXNDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKVxyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICovXHJcbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRGcm9tRE9NKGVsZW1lbnQpIHtcclxuICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50KVxyXG59XHJcblxyXG5leHBvcnQgeyBcclxuICAgIGNyZWF0ZUVsZW1lbnQsIGNyZWF0ZVByb2dyZXNzYmFyLCBnb1VwVG9HcmFuZFBhcmVudEdyYW5kUGFyZW50LCBcclxuICAgIGVsZW1lbnRIYXNDbGFzc05hbWUsIHJlbW92ZUVsZW1lbnRGcm9tRE9NLCBzaG93UHJvZ3Jlc3NCYXIgLCByZW1vdmVQcm9ncmVzc2JhclxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///804\n')},337:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "$f": () => (/* binding */ foreachArrayElements),\n/* harmony export */   "Az": () => (/* binding */ loopOverObject),\n/* harmony export */   "Ri": () => (/* binding */ createArray),\n/* harmony export */   "Sw": () => (/* binding */ classicForLoop),\n/* harmony export */   "c4": () => (/* binding */ createConstArray),\n/* harmony export */   "n6": () => (/* binding */ pushElementToArray),\n/* harmony export */   "o8": () => (/* binding */ isUndefined)\n/* harmony export */ });\n/**\r\n * \r\n * @param {HTMLCollection} elementsCollection \r\n * @returns HTMLElement[]\r\n */\nfunction createConstArray(elementsCollection) {\n  return [].slice.call(elementsCollection);\n}\n\nfunction createArray(elementsCollection) {\n  return Array.from(elementsCollection);\n}\n\nfunction foreachArrayElements(array, callback) {\n  array.forEach(function (element) {\n    callback(element);\n  });\n}\n\nfunction loopOverObject(object, callback) {\n  for (var index in object) {\n    callback(index, object[index]);\n  }\n}\n\nfunction classicForLoop(array, callback) {\n  for (var i = 0; i < array.length; i++) {\n    callback(array[i], array[i + 1]);\n  }\n}\n\nfunction pushElementToArray(element, array) {\n  array.push(element);\n}\n/**\r\n * \r\n * @param {any} element \r\n * @returns boolean\r\n */\n\n\nfunction isUndefined(element) {\n  return element === undefined;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYnBhY2stZGVtby8uL3NyYy9GdW5jdGlvbnMvVG9vbHMvVG9vbHMuanM/N2M5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHtIVE1MQ29sbGVjdGlvbn0gZWxlbWVudHNDb2xsZWN0aW9uIFxyXG4gKiBAcmV0dXJucyBIVE1MRWxlbWVudFtdXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDb25zdEFycmF5KGVsZW1lbnRzQ29sbGVjdGlvbikge1xyXG4gICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoZWxlbWVudHNDb2xsZWN0aW9uKVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVBcnJheShlbGVtZW50c0NvbGxlY3Rpb24pIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnRzQ29sbGVjdGlvbilcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGZvcmVhY2hBcnJheUVsZW1lbnRzKGFycmF5LCBjYWxsYmFjaykgXHJcbntcclxuICAgIGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgY2FsbGJhY2soZWxlbWVudClcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvb3BPdmVyT2JqZWN0KG9iamVjdCwgY2FsbGJhY2spXHJcbntcclxuICAgIGZvcihsZXQgaW5kZXggaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgY2FsbGJhY2soaW5kZXgsIG9iamVjdFtpbmRleF0pXHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2xhc3NpY0Zvckxvb3AoYXJyYXksIGNhbGxiYWNrKSB7XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGNhbGxiYWNrKGFycmF5W2ldLCBhcnJheVtpKzFdKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwdXNoRWxlbWVudFRvQXJyYXkoZWxlbWVudCwgYXJyYXkpIHtcclxuICAgIGFycmF5LnB1c2goZWxlbWVudClcclxufVxyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge2FueX0gZWxlbWVudCBcclxuICogQHJldHVybnMgYm9vbGVhblxyXG4gKi9cclxuZnVuY3Rpb24gaXNVbmRlZmluZWQoZWxlbWVudClcclxue1xyXG4gICAgcmV0dXJuIGVsZW1lbnQgPT09IHVuZGVmaW5lZFxyXG59XHJcblxyXG5leHBvcnQgeyBcclxuICAgIGNyZWF0ZUNvbnN0QXJyYXksIGNyZWF0ZUFycmF5LCBwdXNoRWxlbWVudFRvQXJyYXksIGZvcmVhY2hBcnJheUVsZW1lbnRzLFxyXG4gICAgY2xhc3NpY0Zvckxvb3AsIGxvb3BPdmVyT2JqZWN0LCBpc1VuZGVmaW5lZFxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///337\n')},252:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomeResponsive)\n/* harmony export */ });\n/* harmony import */ var _Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(804);\n/* harmony import */ var _Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(337);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\nvar HomeResponsive = /*#__PURE__*/function () {\n  function HomeResponsive() {\n    _classCallCheck(this, HomeResponsive);\n\n    this.headCellsIndexedByTheirOriginalIndexes = [];\n    this.tbodyRowsWithChidren = [];\n    this.home = document.getElementById('home-main');\n    this.content = this.home.querySelector('.content');\n    this.isMedium = false;\n    this.isMobile = false;\n    this.mediumCount = 0;\n    this.mobileCount = 0;\n    this.mediumScreenWidth = 901;\n    this.mobileScreenWidth = 601;\n    this.revisionHeadsChildren = [];\n    this.sidebarLeftButton;\n    this.subjectsInnerHTML = [];\n    this.userProfileButton;\n    this.visibleSidebarLeftWidth;\n    this.visibleUserProfileWidth;\n    this.handleResize();\n    window.addEventListener('resize', this.handleResize.bind(this));\n  }\n  /**\r\n   * \r\n   * @param {Event | null} e \r\n   */\n\n\n  _createClass(HomeResponsive, [{\n    key: \"handleResize\",\n    value: function handleResize() {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      e === null || e === void 0 ? void 0 : e.preventDefault();\n      var medium = window.innerWidth < this.mediumScreenWidth && window.innerWidth >= this.mobileScreenWidth;\n      var mobile = window.innerWidth < this.mobileScreenWidth;\n\n      if (this.isMedium !== medium) {\n        this.isMedium = medium;\n      } else if (this.isMobile !== mobile) {\n        this.isMobile = mobile;\n      }\n\n      if (this.isMobile) {\n        this.displayMobile();\n      } else if (this.isMedium) {\n        this.displayMediumScreen();\n      } else {\n        this.displayLargeScreen();\n      }\n\n      this.toggleRevisionHeadLabels();\n    }\n  }, {\n    key: \"displayMobile\",\n    value: function displayMobile() {\n      this.mediumCount = 0;\n      this.content.style.width = '100%';\n      this.appendSidebarLeftToNavbar();\n      this.appendUserProfileButton();\n\n      if (window.innerWidth < 520) {\n        this.clipSubjectsName();\n        this.transformCalendarTable();\n      } else {\n        this.declipSubjectsName();\n        this.renderCalendarTableToHisOriginalForm();\n      }\n    }\n  }, {\n    key: \"appendSidebarLeftToNavbar\",\n    value: function appendSidebarLeftToNavbar() {\n      var className = 'sidebar-left';\n      var sidebarLeft = document.querySelector(\".\".concat(className));\n\n      if (sidebarLeft) {\n        var logo = document.querySelector('.logo');\n        logo.after(sidebarLeft);\n        sidebarLeft.classList.add('menu');\n        sidebarLeft.classList.remove(className);\n      }\n    }\n  }, {\n    key: \"appendUserProfileButton\",\n    value: function appendUserProfileButton() {\n      if (!this.thereAreButtons()) {\n        var _this$userProfileButt;\n\n        this.userProfileButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .createElement */ .az)('div', 'buttons_for_hidden_sidebars user_profile_button');\n        this.userProfileButton.innerHTML = \"\\n            <i class='fas fa-arrow-left'></i>\\n            \";\n        this.home.appendChild(this.userProfileButton);\n        (_this$userProfileButt = this.userProfileButton) === null || _this$userProfileButt === void 0 ? void 0 : _this$userProfileButt.addEventListener('click', this.toggleUserProfile.bind(this));\n      }\n    }\n  }, {\n    key: \"clipSubjectsName\",\n    value: function clipSubjectsName() {\n      var _this = this;\n\n      this.subjects = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .createArray */ .Ri)(this.content.querySelectorAll('.subject-name'));\n\n      if (this.subjectsInnerHTML.length === 0) {\n        this.subjects.forEach(function (subject) {\n          var subjectText = subject.innerHTML;\n          _this.subjectsInnerHTML[_this.subjects.indexOf(subject)] = subjectText;\n\n          if (subjectText.length > 4) {\n            subject.innerHTML = subjectText.substring(0, 4).toUpperCase();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"transformCalendarTable\",\n    value: function transformCalendarTable() {\n      this.calendar = this.content.querySelector('.calendar');\n\n      if (this.calendar) {\n        this.appendHeadCellsIntoSelectElement();\n        this.fetchAllTbodyRows();\n        this.showOnlyColumsCorrespondantsToSelectedOption();\n        this.optionChoice();\n      }\n    }\n  }, {\n    key: \"appendHeadCellsIntoSelectElement\",\n    value: function appendHeadCellsIntoSelectElement() {\n      var _this2 = this;\n\n      var thead = this.calendar.querySelector('thead');\n      var tr = thead.querySelector('tr');\n      var th = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .createArray */ .Ri)(thead.querySelectorAll('th'));\n\n      if (tr.querySelector('select') === null) {\n        var select = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .createElement */ .az)('select');\n        var selectParent = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .createElement */ .az)('th');\n        tr.appendChild(selectParent);\n        selectParent.appendChild(select);\n        th.forEach(function (cell) {\n          var option = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .createElement */ .az)('option');\n          select.appendChild(option);\n\n          if (cell.innerText !== 'Matière') {\n            _this2.headCellsIndexedByTheirOriginalIndexes[th.indexOf(cell)] = cell;\n            var i = cell.querySelector('i');\n\n            if (i) {\n              i.setAttribute('hidden', 'true');\n            }\n\n            option.appendChild(cell);\n            option.setAttribute('value', cell.innerText);\n            select.selectedIndex = 1;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"fetchAllTbodyRows\",\n    value: function fetchAllTbodyRows() {\n      var _this3 = this;\n\n      if (this.tbodyRowsWithChidren.length === 0) {\n        var tbodyRows = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .createArray */ .Ri)(this.calendar.querySelectorAll('tbody tr'));\n        tbodyRows.forEach(function (row) {\n          var rowChildren = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .createArray */ .Ri)(row.children);\n          _this3.tbodyRowsWithChidren[tbodyRows.indexOf(row)] = rowChildren;\n          rowChildren.forEach(function (rowChild) {\n            if (!rowChild.classList.contains('subject_name')) {\n              rowChild.setAttribute('hidden', 'true');\n            }\n          });\n        });\n      }\n    }\n  }, {\n    key: \"showOnlyColumsCorrespondantsToSelectedOption\",\n    value: function showOnlyColumsCorrespondantsToSelectedOption() {\n      this.select = this.calendar.querySelector('select');\n      var selectedIndex = this.select.selectedIndex;\n      this.tbodyRowsWithChidren.forEach(function (rowWithChildren) {\n        rowWithChildren.forEach(function (child) {\n          if (!child.hasAttribute('hidden') && !child.classList.contains('subject_name')) {\n            child.setAttribute('hidden', 'true');\n          }\n        });\n        rowWithChildren[selectedIndex].removeAttribute('hidden');\n      });\n    }\n  }, {\n    key: \"optionChoice\",\n    value: function optionChoice() {\n      this.select.addEventListener('click', this.showOnlyColumsCorrespondantsToSelectedOption.bind(this));\n    }\n  }, {\n    key: \"declipSubjectsName\",\n    value: function declipSubjectsName() {\n      if (this.subjectsInnerHTML.length > 0 && this.subjects) {\n        for (var index in this.subjectsInnerHTML) {\n          this.subjects[index].innerHTML = this.subjectsInnerHTML[index];\n        }\n      }\n\n      this.subjectsInnerHTML = [];\n      this.subjects = undefined;\n    }\n  }, {\n    key: \"renderCalendarTableToHisOriginalForm\",\n    value: function renderCalendarTableToHisOriginalForm() {\n      var _this4 = this;\n\n      if (this.tbodyRowsWithChidren.length > 0 && this.calendar) {\n        this.headCellsIndexedByTheirOriginalIndexes.forEach(function (headCell) {\n          _this4.calendar.querySelector('thead tr').appendChild(headCell);\n\n          var i = headCell.querySelector('i');\n\n          if (i) {\n            i.removeAttribute('hidden');\n          }\n        });\n        this.tbodyRowsWithChidren.forEach(function (rowWithChildren) {\n          rowWithChildren.forEach(function (child) {\n            if (child.hasAttribute('hidden')) {\n              child.removeAttribute('hidden');\n            }\n          });\n        });\n\n        if (this.select !== null) {\n          (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .removeElementFromDOM */ .e5)(this.select.parentElement);\n          this.select = null;\n        }\n      }\n    }\n  }, {\n    key: \"displayMediumScreen\",\n    value: function displayMediumScreen() {\n      this.mediumCount++;\n\n      if (this.mediumCount === 1) {\n        this.content.style.width = '100%';\n        this.removeUserProfileButtonFromMobileScreen();\n      }\n\n      this.adjustContentWidthFollowingSidebarsWidth();\n      this.handleLeftAndRightButtonsInteractions();\n      this.renderMenuBackToSidebarLeftIfNecessary();\n    }\n  }, {\n    key: \"removeUserProfileButtonFromMobileScreen\",\n    value: function removeUserProfileButtonFromMobileScreen() {\n      if (this.onlyUserProfileButtonExists()) {\n        this.removeButtonsForHiddenSidebars(true);\n      }\n    }\n  }, {\n    key: \"onlyUserProfileButtonExists\",\n    value: function onlyUserProfileButtonExists() {\n      return this.userProfileButton !== undefined && this.userProfileButton !== null && this.userProfileButton instanceof HTMLElement && this.sidebarLeftButton === undefined;\n    }\n    /**\r\n     * @param {boolean = false} onlyUserProfile précise si on doit seulement supprimer le sidebar avec\r\n     * la classe \"useProfile\"\r\n     */\n\n  }, {\n    key: \"removeButtonsForHiddenSidebars\",\n    value: function removeButtonsForHiddenSidebars() {\n      var onlyUserProfile = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!onlyUserProfile) {\n        (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .removeElementFromDOM */ .e5)(this.sidebarLeftButton);\n        this.sidebarLeftButton = undefined;\n      }\n\n      (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .removeElementFromDOM */ .e5)(this.userProfileButton);\n      this.userProfileButton = undefined;\n    }\n    /**\r\n     * ajuste la largeur de l'élément possédant la classe \"content\" suivant la largeur de chacun des sidebars\r\n     */\n\n  }, {\n    key: \"adjustContentWidthFollowingSidebarsWidth\",\n    value: function adjustContentWidthFollowingSidebarsWidth() {\n      var visibleSidebars = this.home.querySelectorAll('.visible_sidebar');\n\n      if (visibleSidebars.length > 0) {\n        var visibleSidebarsWidthSum = 0;\n        visibleSidebars.forEach(function (visibleSidebar) {\n          visibleSidebarsWidthSum += visibleSidebar.offsetWidth;\n        });\n        this.content.style.width = this.convertToWindowPercent(window.innerWidth - visibleSidebarsWidthSum) + '%';\n      }\n    }\n  }, {\n    key: \"handleLeftAndRightButtonsInteractions\",\n    value: function handleLeftAndRightButtonsInteractions() {\n      if (!this.thereAreButtons()) {\n        var _this$sidebarLeftButt, _this$userProfileButt2;\n\n        this.sidebarLeftButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .createElement */ .az)('div', 'buttons_for_hidden_sidebars sidebar_left_button');\n        this.userProfileButton = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .createElement */ .az)('div', 'buttons_for_hidden_sidebars user_profile_button');\n        this.sidebarLeftButton.innerHTML = \"\\n            <i class='fas fa-arrow-right'></i>\\n            \";\n        this.userProfileButton.innerHTML = \"\\n            <i class='fas fa-arrow-left'></i>\\n            \";\n        this.home.appendChild(this.sidebarLeftButton);\n        this.home.appendChild(this.userProfileButton);\n        (_this$sidebarLeftButt = this.sidebarLeftButton) === null || _this$sidebarLeftButt === void 0 ? void 0 : _this$sidebarLeftButt.addEventListener('click', this.toggleSidebarLeft.bind(this));\n        (_this$userProfileButt2 = this.userProfileButton) === null || _this$userProfileButt2 === void 0 ? void 0 : _this$userProfileButt2.addEventListener('click', this.toggleUserProfile.bind(this));\n      }\n    }\n  }, {\n    key: \"thereAreButtons\",\n    value: function thereAreButtons() {\n      return document.querySelectorAll('.buttons_for_hidden_sidebars').length !== 0;\n    }\n  }, {\n    key: \"toggleSidebarLeft\",\n    value: function toggleSidebarLeft(e) {\n      e.preventDefault();\n      var sidebarLeft = document.querySelector('.sidebar-left');\n      var sidebarLeftVisibleClassName = 'visible_sidebar_left';\n      this.toggleElementClassname(sidebarLeft, sidebarLeftVisibleClassName);\n    }\n    /**\r\n     * \r\n     * @param {HTMLElement} element \r\n     * @param {string} classNameToToggle \r\n     */\n\n  }, {\n    key: \"toggleElementClassname\",\n    value: function toggleElementClassname(element, classNameToToggle) {\n      if (!(0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .elementHasClassName */ .cF)(element, classNameToToggle)) {\n        element.classList.add('visible_sidebar');\n        element.classList.add(classNameToToggle);\n\n        if (!this.isMobile) {\n          this.decreaseElementWidth(this.content, element.offsetWidth);\n        }\n      } else {\n        if (!this.isMobile) {\n          this.increaseElementWidth(this.content, element.offsetWidth);\n        }\n\n        element.classList.remove(classNameToToggle);\n      }\n    }\n    /**\r\n     * \r\n     * @param {HTMLElement} element élément dont la largeur est à diminuer\r\n     * @param {number} toggledElementWidth largeur de l'élémént qui sera déduit à {element}\r\n     */\n\n  }, {\n    key: \"decreaseElementWidth\",\n    value: function decreaseElementWidth(element, toggledElementWidth) {\n      var elementWidthInPercent = this.convertToWindowPercent(element.offsetWidth - toggledElementWidth);\n      element.style.width = elementWidthInPercent + '%';\n    }\n  }, {\n    key: \"convertToWindowPercent\",\n    value: function convertToWindowPercent(elementWidth) {\n      return parseFloat(parseFloat(100 / window.innerWidth * elementWidth).toFixed(3));\n    }\n    /**\r\n     * \r\n     * @param {HTMLElement} element élément dont la largeur est à augmenter\r\n     * @param {string} toggledElementWidth largeur de l'élémént qui sera ajoutée à {element}\r\n     */\n\n  }, {\n    key: \"increaseElementWidth\",\n    value: function increaseElementWidth(element, toggledElementWidth) {\n      var elementWidthInPercent = this.convertToWindowPercent(element.offsetWidth + toggledElementWidth);\n      element.style.width = elementWidthInPercent + '%';\n    }\n  }, {\n    key: \"toggleUserProfile\",\n    value: function toggleUserProfile(e) {\n      e.preventDefault();\n      var userProfile = document.querySelector('.user-profile-right');\n      var userProfileVisibleClassName = 'visible_user_profile';\n      this.toggleElementClassname(userProfile, userProfileVisibleClassName);\n    }\n  }, {\n    key: \"renderMenuBackToSidebarLeftIfNecessary\",\n    value: function renderMenuBackToSidebarLeftIfNecessary() {\n      var menu = document.querySelector('.menu');\n\n      if (menu !== null) {\n        this.home.prepend(menu);\n        menu.classList.remove('menu');\n        menu.classList.add('sidebar-left');\n      }\n    }\n  }, {\n    key: \"displayLargeScreen\",\n    value: function displayLargeScreen() {\n      this.mediumCount = 0;\n\n      if (this.thereAreButtons()) {\n        this.removeButtonsForHiddenSidebars();\n        this.removeVisibleClassnameInSidebars();\n        this.content.style.width = '74%';\n      }\n    }\n  }, {\n    key: \"toggleRevisionHeadLabels\",\n    value: function toggleRevisionHeadLabels() {\n      this.revisionHeads = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .createArray */ .Ri)(document.querySelectorAll('.revision_head'));\n\n      if (this.revisionHeads.length > 0) {\n        if (window.innerWidth < 700) {\n          this.replaceRevisionHeadLabelsToIcons();\n        } else {\n          this.reuseLettersForRevisionLabels();\n        }\n      }\n    }\n  }, {\n    key: \"replaceRevisionHeadLabelsToIcons\",\n    value: function replaceRevisionHeadLabelsToIcons() {\n      var _this5 = this;\n\n      this.revisionHeads.forEach(function (revisionHead) {\n        var revisionHeadParagraphs = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .createConstArray */ .c4)(revisionHead.children);\n\n        if (_this5.revisionHeadsChildren[_this5.revisionHeads.indexOf(revisionHead)] === undefined) {\n          _this5.revisionHeadsChildren[_this5.revisionHeads.indexOf(revisionHead)] = revisionHeadParagraphs;\n        }\n\n        (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .foreachArrayElements */ .$f)(revisionHeadParagraphs, _this5.replaceToIcons);\n      });\n    }\n    /**\r\n     * \r\n     * @param {HTMLElement} paragraph \r\n     */\n\n  }, {\n    key: \"replaceToIcons\",\n    value: function replaceToIcons(paragraph) {\n      var icon = (0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .createElement */ .az)('i');\n\n      if ((0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .elementHasClassName */ .cF)(paragraph, 'subject')) {\n        icon.classList.add('fas');\n        icon.classList.add('fa-book');\n      } else if ((0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .elementHasClassName */ .cF)(paragraph, 'chapter')) {\n        icon.classList.add('fas');\n        icon.classList.add('fa-bookmark');\n      } else if ((0,_Functions_Tools_DOMTools__WEBPACK_IMPORTED_MODULE_0__/* .elementHasClassName */ .cF)(paragraph, 'time')) {\n        icon.innerHTML = \"\\n            <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"feather feather-watch\\\">\\n            <circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"7\\\"></circle>\\n            <polyline points=\\\"12 9 12 12 13.5 13.5\\\"></polyline>\\n            <path d=\\\"M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83\\\">\\n            </path>\\n            </svg>\";\n      } else {\n        return;\n      }\n\n      paragraph.replaceWith(icon);\n    }\n  }, {\n    key: \"reuseLettersForRevisionLabels\",\n    value: function reuseLettersForRevisionLabels() {\n      this.firstRevisionHeadParagraphsCopy = [];\n\n      if (this.revisionHeadsChildren !== null) {\n        this.revisionHeads = (0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .createArray */ .Ri)(document.querySelectorAll('.revision_head'));\n        this.appendLabelParagraphsForeachRevisionHead();\n      }\n    }\n  }, {\n    key: \"appendLabelParagraphsForeachRevisionHead\",\n    value: function appendLabelParagraphsForeachRevisionHead() {\n      var _this6 = this;\n\n      var _loop = function _loop(revisionHeadIndex) {\n        _this6.revisionHeadsChildren[revisionHeadIndex].forEach(function (revisionHeadParagraph) {\n          _this6.appendLabelParagraphsToARevisionHead(revisionHeadParagraph, revisionHeadIndex);\n        });\n      };\n\n      for (var revisionHeadIndex in this.revisionHeadsChildren) {\n        _loop(revisionHeadIndex);\n      }\n    }\n  }, {\n    key: \"appendLabelParagraphsToARevisionHead\",\n    value: function appendLabelParagraphsToARevisionHead(revisionHeadParagraph, revisionHeadIndex) {\n      var currentLoopRevisionHead = this.revisionHeads[revisionHeadIndex];\n\n      if ((0,_Functions_Tools_Tools__WEBPACK_IMPORTED_MODULE_1__/* .createArray */ .Ri)(currentLoopRevisionHead.children).length === 3) {\n        currentLoopRevisionHead.innerHTML = \"\";\n      }\n\n      if (revisionHeadParagraph.nodeName === 'P') {\n        this.firstRevisionHeadParagraphsCopy.push(revisionHeadParagraph.cloneNode(true));\n        currentLoopRevisionHead.appendChild(revisionHeadParagraph);\n      } else {\n        var paragraphIndex = this.revisionHeadsChildren[revisionHeadIndex].indexOf(revisionHeadParagraph);\n        currentLoopRevisionHead.appendChild(this.firstRevisionHeadParagraphsCopy[paragraphIndex]);\n      }\n\n      if (this.revisionHeads.length === 2 && this.revisionHeadsChildren.length === 1) {\n        this.revisionHeads[1].appendChild(revisionHeadParagraph);\n      }\n    }\n  }, {\n    key: \"removeVisibleClassnameInSidebars\",\n    value: function removeVisibleClassnameInSidebars() {\n      var visibleSidebarLeft = document.querySelector('.visible_sidebar_left');\n      var visibleUserProfile = document.querySelector('.visible_user_profile');\n\n      if (visibleSidebarLeft) {\n        visibleSidebarLeft.classList.remove('visible_sidebar_left');\n      }\n\n      if (visibleUserProfile) {\n        visibleUserProfile.classList.remove('visible_user_profile');\n      }\n    }\n  }]);\n\n  return HomeResponsive;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFBQTs7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7OztBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFFQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFMQTs7QUFDQTtBQUFBO0FBS0E7QUFDQTs7O0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLWRlbW8vLi9zcmMvcmVzcG9uc2l2ZXMvaG9tZS1yZXNwb25zaXZlLmpzP2RjNTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhbGVuZGFyQ3JlYXRpb25ET01JbnRlcmFjdGlvbnMgZnJvbSBcIi4uL0Fic3RyYWN0Q2xhc3Nlcy9DYWxlbmRhckNyZWF0aW9uRE9NSW50ZXJhY3Rpb25zXCJcclxuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgZWxlbWVudEhhc0NsYXNzTmFtZSwgcmVtb3ZlRWxlbWVudEZyb21ET00gfSBmcm9tIFwiLi4vRnVuY3Rpb25zL1Rvb2xzL0RPTVRvb2xzXCJcclxuaW1wb3J0IHsgY3JlYXRlQXJyYXksIGNyZWF0ZUNvbnN0QXJyYXksIGZvcmVhY2hBcnJheUVsZW1lbnRzLCBpc1VuZGVmaW5lZCB9IGZyb20gXCIuLi9GdW5jdGlvbnMvVG9vbHMvVG9vbHNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZVJlc3BvbnNpdmUge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmhlYWRDZWxsc0luZGV4ZWRCeVRoZWlyT3JpZ2luYWxJbmRleGVzID0gW11cclxuICAgICAgICB0aGlzLnRib2R5Um93c1dpdGhDaGlkcmVuID0gW11cclxuICAgICAgICB0aGlzLmhvbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZS1tYWluJylcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLmhvbWUucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKVxyXG4gICAgICAgIHRoaXMuaXNNZWRpdW0gPSBmYWxzZVxyXG4gICAgICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMubWVkaXVtQ291bnQgPSAwXHJcbiAgICAgICAgdGhpcy5tb2JpbGVDb3VudCA9IDBcclxuICAgICAgICB0aGlzLm1lZGl1bVNjcmVlbldpZHRoID0gOTAxXHJcbiAgICAgICAgdGhpcy5tb2JpbGVTY3JlZW5XaWR0aCA9IDYwMVxyXG4gICAgICAgIHRoaXMucmV2aXNpb25IZWFkc0NoaWxkcmVuID0gW11cclxuICAgICAgICB0aGlzLnNpZGViYXJMZWZ0QnV0dG9uXHJcbiAgICAgICAgdGhpcy5zdWJqZWN0c0lubmVySFRNTCA9IFtdXHJcbiAgICAgICAgdGhpcy51c2VyUHJvZmlsZUJ1dHRvblxyXG4gICAgICAgIHRoaXMudmlzaWJsZVNpZGViYXJMZWZ0V2lkdGhcclxuICAgICAgICB0aGlzLnZpc2libGVVc2VyUHJvZmlsZVdpZHRoXHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlUmVzaXplKClcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUuYmluZCh0aGlzKSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtFdmVudCB8IG51bGx9IGUgXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVJlc2l6ZShlID0gbnVsbCl7XHJcbiAgICAgICAgZT8ucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBtZWRpdW0gPSB3aW5kb3cuaW5uZXJXaWR0aCA8IHRoaXMubWVkaXVtU2NyZWVuV2lkdGggJiYgd2luZG93LmlubmVyV2lkdGggPj0gdGhpcy5tb2JpbGVTY3JlZW5XaWR0aFxyXG4gICAgICAgIGxldCBtb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IHRoaXMubW9iaWxlU2NyZWVuV2lkdGhcclxuICAgICAgICBcclxuICAgICAgICBpZih0aGlzLmlzTWVkaXVtICE9PSBtZWRpdW0pe1xyXG4gICAgICAgICAgICB0aGlzLmlzTWVkaXVtID0gbWVkaXVtXHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5pc01vYmlsZSAhPT0gbW9iaWxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNNb2JpbGUgPSBtb2JpbGVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuaXNNb2JpbGUpe1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlNb2JpbGUoKVxyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNNZWRpdW0pe1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlNZWRpdW1TY3JlZW4oKVxyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5TGFyZ2VTY3JlZW4oKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50b2dnbGVSZXZpc2lvbkhlYWRMYWJlbHMoKVxyXG4gICAgfVxyXG5cclxuICAgIGRpc3BsYXlNb2JpbGUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubWVkaXVtQ291bnQgPSAwXHJcbiAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLndpZHRoID0gJzEwMCUnXHJcblxyXG4gICAgICAgIHRoaXMuYXBwZW5kU2lkZWJhckxlZnRUb05hdmJhcigpXHJcbiAgICAgICAgdGhpcy5hcHBlbmRVc2VyUHJvZmlsZUJ1dHRvbigpXHJcblxyXG4gICAgICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoIDwgNTIwKXtcclxuICAgICAgICAgICAgdGhpcy5jbGlwU3ViamVjdHNOYW1lKClcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1DYWxlbmRhclRhYmxlKClcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5kZWNsaXBTdWJqZWN0c05hbWUoKVxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhbGVuZGFyVGFibGVUb0hpc09yaWdpbmFsRm9ybSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZFNpZGViYXJMZWZ0VG9OYXZiYXIoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9ICdzaWRlYmFyLWxlZnQnXHJcbiAgICAgICAgbGV0IHNpZGViYXJMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y2xhc3NOYW1lfWApXHJcbiAgICAgICAgaWYoc2lkZWJhckxlZnQpe1xyXG4gICAgICAgICAgICBsZXQgbG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dvJylcclxuICAgICAgICAgICAgbG9nby5hZnRlcihzaWRlYmFyTGVmdClcclxuICAgICAgICAgICAgc2lkZWJhckxlZnQuY2xhc3NMaXN0LmFkZCgnbWVudScpXHJcbiAgICAgICAgICAgIHNpZGViYXJMZWZ0LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKVxyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgYXBwZW5kVXNlclByb2ZpbGVCdXR0b24oKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCF0aGlzLnRoZXJlQXJlQnV0dG9ucygpKXtcclxuICAgICAgICAgICAgdGhpcy51c2VyUHJvZmlsZUJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsICdidXR0b25zX2Zvcl9oaWRkZW5fc2lkZWJhcnMgdXNlcl9wcm9maWxlX2J1dHRvbicpXHJcbiAgICAgICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b24uaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8aSBjbGFzcz0nZmFzIGZhLWFycm93LWxlZnQnPjwvaT5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICB0aGlzLmhvbWUuYXBwZW5kQ2hpbGQodGhpcy51c2VyUHJvZmlsZUJ1dHRvbilcclxuICAgICAgICAgICAgdGhpcy51c2VyUHJvZmlsZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZVVzZXJQcm9maWxlLmJpbmQodGhpcykpXHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcbiAgICBjbGlwU3ViamVjdHNOYW1lKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnN1YmplY3RzID0gY3JlYXRlQXJyYXkodGhpcy5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWJqZWN0LW5hbWUnKSlcclxuICAgICAgICBpZih0aGlzLnN1YmplY3RzSW5uZXJIVE1MLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnN1YmplY3RzLmZvckVhY2goc3ViamVjdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3ViamVjdFRleHQgPSBzdWJqZWN0LmlubmVySFRNTFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJqZWN0c0lubmVySFRNTFt0aGlzLnN1YmplY3RzLmluZGV4T2Yoc3ViamVjdCldID0gc3ViamVjdFRleHRcclxuICAgICAgICAgICAgICAgIGlmKHN1YmplY3RUZXh0Lmxlbmd0aCA+IDQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YmplY3QuaW5uZXJIVE1MID0gc3ViamVjdFRleHQuc3Vic3RyaW5nKDAsNCkudG9VcHBlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2Zvcm1DYWxlbmRhclRhYmxlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmNhbGVuZGFyID0gdGhpcy5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxlbmRhcicpXHJcbiAgICAgICAgaWYodGhpcy5jYWxlbmRhcikge1xyXG4gICAgICAgICAgICB0aGlzLmFwcGVuZEhlYWRDZWxsc0ludG9TZWxlY3RFbGVtZW50KClcclxuICAgICAgICAgICAgdGhpcy5mZXRjaEFsbFRib2R5Um93cygpXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd09ubHlDb2x1bXNDb3JyZXNwb25kYW50c1RvU2VsZWN0ZWRPcHRpb24oKVxyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbkNob2ljZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZEhlYWRDZWxsc0ludG9TZWxlY3RFbGVtZW50KClcclxuICAgIHtcclxuICAgICAgICBsZXQgdGhlYWQgPSB0aGlzLmNhbGVuZGFyLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkJylcclxuICAgICAgICBsZXQgdHIgPSB0aGVhZC5xdWVyeVNlbGVjdG9yKCd0cicpXHJcbiAgICAgICAgbGV0IHRoID0gY3JlYXRlQXJyYXkodGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKSlcclxuICAgICAgICBpZih0ci5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKSA9PT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3QgPSBjcmVhdGVFbGVtZW50KCdzZWxlY3QnKVxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0UGFyZW50ID0gY3JlYXRlRWxlbWVudCgndGgnKVxyXG4gICAgICAgICAgICB0ci5hcHBlbmRDaGlsZChzZWxlY3RQYXJlbnQpXHJcbiAgICAgICAgICAgIHNlbGVjdFBhcmVudC5hcHBlbmRDaGlsZChzZWxlY3QpXHJcbiAgICAgICAgICAgIHRoLmZvckVhY2goY2VsbCA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9uID0gY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcclxuICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pXHJcbiAgICAgICAgICAgICAgICBpZihjZWxsLmlubmVyVGV4dCAhPT0gJ01hdGnDqHJlJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFkQ2VsbHNJbmRleGVkQnlUaGVpck9yaWdpbmFsSW5kZXhlc1t0aC5pbmRleE9mKGNlbGwpXSA9IGNlbGxcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gY2VsbC5xdWVyeVNlbGVjdG9yKCdpJylcclxuICAgICAgICAgICAgICAgICAgICBpZihpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICd0cnVlJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmFwcGVuZENoaWxkKGNlbGwpXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBjZWxsLmlubmVyVGV4dClcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmV0Y2hBbGxUYm9keVJvd3MoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMudGJvZHlSb3dzV2l0aENoaWRyZW4ubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgbGV0IHRib2R5Um93cyA9IGNyZWF0ZUFycmF5KHRoaXMuY2FsZW5kYXIucXVlcnlTZWxlY3RvckFsbCgndGJvZHkgdHInKSlcclxuICAgICAgICAgICAgdGJvZHlSb3dzLmZvckVhY2gocm93ID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCByb3dDaGlsZHJlbiA9IGNyZWF0ZUFycmF5KHJvdy5jaGlsZHJlbilcclxuICAgICAgICAgICAgICAgIHRoaXMudGJvZHlSb3dzV2l0aENoaWRyZW5bdGJvZHlSb3dzLmluZGV4T2Yocm93KV0gPSByb3dDaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgcm93Q2hpbGRyZW4uZm9yRWFjaChyb3dDaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXJvd0NoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3ViamVjdF9uYW1lJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dDaGlsZC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICd0cnVlJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93T25seUNvbHVtc0NvcnJlc3BvbmRhbnRzVG9TZWxlY3RlZE9wdGlvbigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3QgPSB0aGlzLmNhbGVuZGFyLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHRoaXMuc2VsZWN0LnNlbGVjdGVkSW5kZXhcclxuICAgICAgICB0aGlzLnRib2R5Um93c1dpdGhDaGlkcmVuLmZvckVhY2gocm93V2l0aENoaWxkcmVuID0+IHtcclxuICAgICAgICAgICAgcm93V2l0aENoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYoIWNoaWxkLmhhc0F0dHJpYnV0ZSgnaGlkZGVuJykgJiYgIWNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3ViamVjdF9uYW1lJykpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ3RydWUnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByb3dXaXRoQ2hpbGRyZW5bc2VsZWN0ZWRJbmRleF0ucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb3B0aW9uQ2hvaWNlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd09ubHlDb2x1bXNDb3JyZXNwb25kYW50c1RvU2VsZWN0ZWRPcHRpb24uYmluZCh0aGlzKSlcclxuICAgIH1cclxuXHJcbiAgICBkZWNsaXBTdWJqZWN0c05hbWUoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMuc3ViamVjdHNJbm5lckhUTUwubGVuZ3RoID4gMCAmJiB0aGlzLnN1YmplY3RzKXtcclxuICAgICAgICAgICAgZm9yKGNvbnN0IGluZGV4IGluIHRoaXMuc3ViamVjdHNJbm5lckhUTUwpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJqZWN0c1tpbmRleF0uaW5uZXJIVE1MID0gdGhpcy5zdWJqZWN0c0lubmVySFRNTFtpbmRleF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN1YmplY3RzSW5uZXJIVE1MID0gW11cclxuICAgICAgICB0aGlzLnN1YmplY3RzID0gdW5kZWZpbmVkXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ2FsZW5kYXJUYWJsZVRvSGlzT3JpZ2luYWxGb3JtKClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLnRib2R5Um93c1dpdGhDaGlkcmVuLmxlbmd0aCA+IDAgJiYgdGhpcy5jYWxlbmRhcil7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZENlbGxzSW5kZXhlZEJ5VGhlaXJPcmlnaW5hbEluZGV4ZXMuZm9yRWFjaChoZWFkQ2VsbCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkIHRyJykuYXBwZW5kQ2hpbGQoaGVhZENlbGwpXHJcbiAgICAgICAgICAgICAgICBsZXQgaSA9IGhlYWRDZWxsLnF1ZXJ5U2VsZWN0b3IoJ2knKVxyXG4gICAgICAgICAgICAgICAgaWYoaSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaS5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnRib2R5Um93c1dpdGhDaGlkcmVuLmZvckVhY2gocm93V2l0aENoaWxkcmVuID0+IHtcclxuICAgICAgICAgICAgICAgIHJvd1dpdGhDaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihjaGlsZC5oYXNBdHRyaWJ1dGUoJ2hpZGRlbicpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZih0aGlzLnNlbGVjdCAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50RnJvbURPTSh0aGlzLnNlbGVjdC5wYXJlbnRFbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3QgPSBudWxsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheU1lZGl1bVNjcmVlbigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tZWRpdW1Db3VudCsrXHJcbiAgICAgICAgaWYodGhpcy5tZWRpdW1Db3VudCA9PT0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5zdHlsZS53aWR0aCA9ICcxMDAlJ1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVVzZXJQcm9maWxlQnV0dG9uRnJvbU1vYmlsZVNjcmVlbigpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRqdXN0Q29udGVudFdpZHRoRm9sbG93aW5nU2lkZWJhcnNXaWR0aCgpXHJcbiAgICAgICAgdGhpcy5oYW5kbGVMZWZ0QW5kUmlnaHRCdXR0b25zSW50ZXJhY3Rpb25zKClcclxuICAgICAgICB0aGlzLnJlbmRlck1lbnVCYWNrVG9TaWRlYmFyTGVmdElmTmVjZXNzYXJ5KClcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVVc2VyUHJvZmlsZUJ1dHRvbkZyb21Nb2JpbGVTY3JlZW4oKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMub25seVVzZXJQcm9maWxlQnV0dG9uRXhpc3RzKCkpe1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUJ1dHRvbnNGb3JIaWRkZW5TaWRlYmFycyh0cnVlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbmx5VXNlclByb2ZpbGVCdXR0b25FeGlzdHMoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJQcm9maWxlQnV0dG9uICE9PSB1bmRlZmluZWQgJiYgXHJcbiAgICAgICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b24gIT09IG51bGwgJiYgXHJcbiAgICAgICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b24gaW5zdGFuY2VvZiAgSFRNTEVsZW1lbnQgJiYgXHJcbiAgICAgICAgICAgIHRoaXMuc2lkZWJhckxlZnRCdXR0b24gPT09IHVuZGVmaW5lZFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtib29sZWFuID0gZmFsc2V9IG9ubHlVc2VyUHJvZmlsZSBwcsOpY2lzZSBzaSBvbiBkb2l0IHNldWxlbWVudCBzdXBwcmltZXIgbGUgc2lkZWJhciBhdmVjXHJcbiAgICAgKiBsYSBjbGFzc2UgXCJ1c2VQcm9maWxlXCJcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlQnV0dG9uc0ZvckhpZGRlblNpZGViYXJzKG9ubHlVc2VyUHJvZmlsZSA9IGZhbHNlKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCFvbmx5VXNlclByb2ZpbGUpe1xyXG4gICAgICAgICAgICByZW1vdmVFbGVtZW50RnJvbURPTSh0aGlzLnNpZGViYXJMZWZ0QnV0dG9uKVxyXG4gICAgICAgICAgICB0aGlzLnNpZGViYXJMZWZ0QnV0dG9uID0gdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlbW92ZUVsZW1lbnRGcm9tRE9NKHRoaXMudXNlclByb2ZpbGVCdXR0b24pXHJcbiAgICAgICAgdGhpcy51c2VyUHJvZmlsZUJ1dHRvbiA9IHVuZGVmaW5lZFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYWp1c3RlIGxhIGxhcmdldXIgZGUgbCfDqWzDqW1lbnQgcG9zc8OpZGFudCBsYSBjbGFzc2UgXCJjb250ZW50XCIgc3VpdmFudCBsYSBsYXJnZXVyIGRlIGNoYWN1biBkZXMgc2lkZWJhcnNcclxuICAgICAqL1xyXG4gICAgYWRqdXN0Q29udGVudFdpZHRoRm9sbG93aW5nU2lkZWJhcnNXaWR0aCgpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHZpc2libGVTaWRlYmFycyA9IHRoaXMuaG9tZS5xdWVyeVNlbGVjdG9yQWxsKCcudmlzaWJsZV9zaWRlYmFyJylcclxuICAgICAgICBpZih2aXNpYmxlU2lkZWJhcnMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGxldCB2aXNpYmxlU2lkZWJhcnNXaWR0aFN1bSA9IDBcclxuICAgICAgICAgICAgdmlzaWJsZVNpZGViYXJzLmZvckVhY2godmlzaWJsZVNpZGViYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZVNpZGViYXJzV2lkdGhTdW0gKz0gdmlzaWJsZVNpZGViYXIub2Zmc2V0V2lkdGhcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50LnN0eWxlLndpZHRoID0gdGhpcy5jb252ZXJ0VG9XaW5kb3dQZXJjZW50KHdpbmRvdy5pbm5lcldpZHRoIC0gdmlzaWJsZVNpZGViYXJzV2lkdGhTdW0pICsgJyUnXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUxlZnRBbmRSaWdodEJ1dHRvbnNJbnRlcmFjdGlvbnMoKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCF0aGlzLnRoZXJlQXJlQnV0dG9ucygpKXtcclxuICAgICAgICAgICAgdGhpcy5zaWRlYmFyTGVmdEJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsICdidXR0b25zX2Zvcl9oaWRkZW5fc2lkZWJhcnMgc2lkZWJhcl9sZWZ0X2J1dHRvbicpXHJcbiAgICAgICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b24gPSBjcmVhdGVFbGVtZW50KCdkaXYnLCAnYnV0dG9uc19mb3JfaGlkZGVuX3NpZGViYXJzIHVzZXJfcHJvZmlsZV9idXR0b24nKVxyXG4gICAgICAgICAgICB0aGlzLnNpZGViYXJMZWZ0QnV0dG9uLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGkgY2xhc3M9J2ZhcyBmYS1hcnJvdy1yaWdodCc+PC9pPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgICAgIHRoaXMudXNlclByb2ZpbGVCdXR0b24uaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8aSBjbGFzcz0nZmFzIGZhLWFycm93LWxlZnQnPjwvaT5cclxuICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICB0aGlzLmhvbWUuYXBwZW5kQ2hpbGQodGhpcy5zaWRlYmFyTGVmdEJ1dHRvbilcclxuICAgICAgICAgICAgdGhpcy5ob21lLmFwcGVuZENoaWxkKHRoaXMudXNlclByb2ZpbGVCdXR0b24pXHJcbiAgICAgICAgICAgIHRoaXMuc2lkZWJhckxlZnRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGVTaWRlYmFyTGVmdC5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICB0aGlzLnVzZXJQcm9maWxlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9nZ2xlVXNlclByb2ZpbGUuYmluZCh0aGlzKSlcclxuICAgICAgICB9ICBcclxuICAgIH1cclxuXHJcbiAgICB0aGVyZUFyZUJ1dHRvbnMoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uc19mb3JfaGlkZGVuX3NpZGViYXJzJykubGVuZ3RoICE9PSAwXHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2lkZWJhckxlZnQoZSlcclxuICAgIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBsZXQgc2lkZWJhckxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhci1sZWZ0JylcclxuICAgICAgICBjb25zdCBzaWRlYmFyTGVmdFZpc2libGVDbGFzc05hbWUgPSAndmlzaWJsZV9zaWRlYmFyX2xlZnQnXHJcbiAgICAgICAgdGhpcy50b2dnbGVFbGVtZW50Q2xhc3NuYW1lKHNpZGViYXJMZWZ0LCBzaWRlYmFyTGVmdFZpc2libGVDbGFzc05hbWUpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lVG9Ub2dnbGUgXHJcbiAgICAgKi9cclxuICAgIHRvZ2dsZUVsZW1lbnRDbGFzc25hbWUoZWxlbWVudCwgY2xhc3NOYW1lVG9Ub2dnbGUpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIWVsZW1lbnRIYXNDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lVG9Ub2dnbGUpKXtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlX3NpZGViYXInKVxyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lVG9Ub2dnbGUpXHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmlzTW9iaWxlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVhc2VFbGVtZW50V2lkdGgodGhpcy5jb250ZW50LCBlbGVtZW50Lm9mZnNldFdpZHRoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBpZighdGhpcy5pc01vYmlsZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlYXNlRWxlbWVudFdpZHRoKHRoaXMuY29udGVudCwgZWxlbWVudC5vZmZzZXRXaWR0aClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lVG9Ub2dnbGUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IMOpbMOpbWVudCBkb250IGxhIGxhcmdldXIgZXN0IMOgIGRpbWludWVyXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9nZ2xlZEVsZW1lbnRXaWR0aCBsYXJnZXVyIGRlIGwnw6lsw6ltw6ludCBxdWkgc2VyYSBkw6lkdWl0IMOgIHtlbGVtZW50fVxyXG4gICAgICovXHJcbiAgICBkZWNyZWFzZUVsZW1lbnRXaWR0aChlbGVtZW50LCB0b2dnbGVkRWxlbWVudFdpZHRoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRXaWR0aEluUGVyY2VudCA9IHRoaXMuY29udmVydFRvV2luZG93UGVyY2VudChlbGVtZW50Lm9mZnNldFdpZHRoIC0gdG9nZ2xlZEVsZW1lbnRXaWR0aClcclxuICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gZWxlbWVudFdpZHRoSW5QZXJjZW50ICsgJyUnXHJcbiAgICB9XHJcblxyXG4gICAgY29udmVydFRvV2luZG93UGVyY2VudChlbGVtZW50V2lkdGgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocGFyc2VGbG9hdCgxMDAgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIGVsZW1lbnRXaWR0aCkudG9GaXhlZCgzKSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCDDqWzDqW1lbnQgZG9udCBsYSBsYXJnZXVyIGVzdCDDoCBhdWdtZW50ZXJcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0b2dnbGVkRWxlbWVudFdpZHRoIGxhcmdldXIgZGUgbCfDqWzDqW3DqW50IHF1aSBzZXJhIGFqb3V0w6llIMOgIHtlbGVtZW50fVxyXG4gICAgICovXHJcbiAgICBpbmNyZWFzZUVsZW1lbnRXaWR0aChlbGVtZW50LCB0b2dnbGVkRWxlbWVudFdpZHRoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRXaWR0aEluUGVyY2VudCA9IHRoaXMuY29udmVydFRvV2luZG93UGVyY2VudChlbGVtZW50Lm9mZnNldFdpZHRoICsgdG9nZ2xlZEVsZW1lbnRXaWR0aClcclxuICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gZWxlbWVudFdpZHRoSW5QZXJjZW50ICsgJyUnXHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlVXNlclByb2ZpbGUoZSlcclxuICAgIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBsZXQgdXNlclByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXNlci1wcm9maWxlLXJpZ2h0JylcclxuICAgICAgICBjb25zdCB1c2VyUHJvZmlsZVZpc2libGVDbGFzc05hbWUgPSAndmlzaWJsZV91c2VyX3Byb2ZpbGUnXHJcbiAgICAgICAgdGhpcy50b2dnbGVFbGVtZW50Q2xhc3NuYW1lKHVzZXJQcm9maWxlLCB1c2VyUHJvZmlsZVZpc2libGVDbGFzc05hbWUpXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTWVudUJhY2tUb1NpZGViYXJMZWZ0SWZOZWNlc3NhcnkoKVxyXG4gICAge1xyXG4gICAgICAgIGxldCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUnKVxyXG4gICAgICAgIGlmKG1lbnUgIT09IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLmhvbWUucHJlcGVuZChtZW51KVxyXG4gICAgICAgICAgICBtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUnKVxyXG4gICAgICAgICAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ3NpZGViYXItbGVmdCcpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpc3BsYXlMYXJnZVNjcmVlbigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5tZWRpdW1Db3VudCA9IDBcclxuICAgICAgICBpZih0aGlzLnRoZXJlQXJlQnV0dG9ucygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQnV0dG9uc0ZvckhpZGRlblNpZGViYXJzKClcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVWaXNpYmxlQ2xhc3NuYW1lSW5TaWRlYmFycygpXHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5zdHlsZS53aWR0aCA9ICc3NCUnXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVJldmlzaW9uSGVhZExhYmVscygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZXZpc2lvbkhlYWRzID0gY3JlYXRlQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmlzaW9uX2hlYWQnKSlcclxuICAgICAgICBpZih0aGlzLnJldmlzaW9uSGVhZHMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoIDwgNzAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcGxhY2VSZXZpc2lvbkhlYWRMYWJlbHNUb0ljb25zKClcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJldXNlTGV0dGVyc0ZvclJldmlzaW9uTGFiZWxzKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBsYWNlUmV2aXNpb25IZWFkTGFiZWxzVG9JY29ucygpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5yZXZpc2lvbkhlYWRzLmZvckVhY2gocmV2aXNpb25IZWFkID0+IHtcclxuICAgICAgICAgICAgbGV0IHJldmlzaW9uSGVhZFBhcmFncmFwaHMgPSBjcmVhdGVDb25zdEFycmF5KHJldmlzaW9uSGVhZC5jaGlsZHJlbilcclxuICAgICAgICAgICAgaWYodGhpcy5yZXZpc2lvbkhlYWRzQ2hpbGRyZW5bdGhpcy5yZXZpc2lvbkhlYWRzLmluZGV4T2YocmV2aXNpb25IZWFkKV0gPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgdGhpcy5yZXZpc2lvbkhlYWRzQ2hpbGRyZW5bdGhpcy5yZXZpc2lvbkhlYWRzLmluZGV4T2YocmV2aXNpb25IZWFkKV0gPSByZXZpc2lvbkhlYWRQYXJhZ3JhcGhzIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcmVhY2hBcnJheUVsZW1lbnRzKHJldmlzaW9uSGVhZFBhcmFncmFwaHMsIHRoaXMucmVwbGFjZVRvSWNvbnMpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyYWdyYXBoIFxyXG4gICAgICovXHJcbiAgICByZXBsYWNlVG9JY29ucyhwYXJhZ3JhcGgpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGljb24gPSBjcmVhdGVFbGVtZW50KCdpJylcclxuICAgICAgICBcclxuICAgICAgICBpZihlbGVtZW50SGFzQ2xhc3NOYW1lKHBhcmFncmFwaCwgJ3N1YmplY3QnKSl7XHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnZmFzJylcclxuICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKCdmYS1ib29rJylcclxuICAgICAgICB9ZWxzZSBpZihlbGVtZW50SGFzQ2xhc3NOYW1lKHBhcmFncmFwaCwgJ2NoYXB0ZXInKSl7XHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnZmFzJylcclxuICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKCdmYS1ib29rbWFyaycpXHJcbiAgICAgICAgfWVsc2UgaWYoZWxlbWVudEhhc0NsYXNzTmFtZShwYXJhZ3JhcGgsICd0aW1lJykpIHtcclxuICAgICAgICAgICAgaWNvbi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXdhdGNoXCI+XHJcbiAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiN1wiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICA8cG9seWxpbmUgcG9pbnRzPVwiMTIgOSAxMiAxMiAxMy41IDEzLjVcIj48L3BvbHlsaW5lPlxyXG4gICAgICAgICAgICA8cGF0aCBkPVwiTTE2LjUxIDE3LjM1bC0uMzUgMy44M2EyIDIgMCAwIDEtMiAxLjgySDkuODNhMiAyIDAgMCAxLTItMS44MmwtLjM1LTMuODNtLjAxLTEwLjdsLjM1LTMuODNBMiAyIDAgMCAxIDkuODMgMWg0LjM1YTIgMiAwIDAgMSAyIDEuODJsLjM1IDMuODNcIj5cclxuICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGFyYWdyYXBoLnJlcGxhY2VXaXRoKGljb24pXHJcbiAgICB9XHJcblxyXG4gICAgcmV1c2VMZXR0ZXJzRm9yUmV2aXNpb25MYWJlbHMoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZmlyc3RSZXZpc2lvbkhlYWRQYXJhZ3JhcGhzQ29weSA9IFtdXHJcbiAgICAgICAgaWYodGhpcy5yZXZpc2lvbkhlYWRzQ2hpbGRyZW4gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXZpc2lvbkhlYWRzID0gY3JlYXRlQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmlzaW9uX2hlYWQnKSlcclxuICAgICAgICAgICAgdGhpcy5hcHBlbmRMYWJlbFBhcmFncmFwaHNGb3JlYWNoUmV2aXNpb25IZWFkKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXBwZW5kTGFiZWxQYXJhZ3JhcGhzRm9yZWFjaFJldmlzaW9uSGVhZCgpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yKGNvbnN0IHJldmlzaW9uSGVhZEluZGV4IGluIHRoaXMucmV2aXNpb25IZWFkc0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5yZXZpc2lvbkhlYWRzQ2hpbGRyZW5bcmV2aXNpb25IZWFkSW5kZXhdLmZvckVhY2gocmV2aXNpb25IZWFkUGFyYWdyYXBoID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kTGFiZWxQYXJhZ3JhcGhzVG9BUmV2aXNpb25IZWFkKHJldmlzaW9uSGVhZFBhcmFncmFwaCwgcmV2aXNpb25IZWFkSW5kZXgpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFwcGVuZExhYmVsUGFyYWdyYXBoc1RvQVJldmlzaW9uSGVhZChyZXZpc2lvbkhlYWRQYXJhZ3JhcGgsIHJldmlzaW9uSGVhZEluZGV4KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBjdXJyZW50TG9vcFJldmlzaW9uSGVhZCA9IHRoaXMucmV2aXNpb25IZWFkc1tyZXZpc2lvbkhlYWRJbmRleF1cclxuICAgICAgICBpZihjcmVhdGVBcnJheShjdXJyZW50TG9vcFJldmlzaW9uSGVhZC5jaGlsZHJlbikubGVuZ3RoID09PSAzKXtcclxuICAgICAgICAgICAgY3VycmVudExvb3BSZXZpc2lvbkhlYWQuaW5uZXJIVE1MID0gXCJcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocmV2aXNpb25IZWFkUGFyYWdyYXBoLm5vZGVOYW1lID09PSAnUCcpe1xyXG4gICAgICAgICAgICB0aGlzLmZpcnN0UmV2aXNpb25IZWFkUGFyYWdyYXBoc0NvcHkucHVzaChyZXZpc2lvbkhlYWRQYXJhZ3JhcGguY2xvbmVOb2RlKHRydWUpKVxyXG4gICAgICAgICAgICBjdXJyZW50TG9vcFJldmlzaW9uSGVhZC5hcHBlbmRDaGlsZChyZXZpc2lvbkhlYWRQYXJhZ3JhcGgpXHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhZ3JhcGhJbmRleCA9IHRoaXMucmV2aXNpb25IZWFkc0NoaWxkcmVuW3JldmlzaW9uSGVhZEluZGV4XS5pbmRleE9mKHJldmlzaW9uSGVhZFBhcmFncmFwaClcclxuICAgICAgICAgICAgY3VycmVudExvb3BSZXZpc2lvbkhlYWQuYXBwZW5kQ2hpbGQodGhpcy5maXJzdFJldmlzaW9uSGVhZFBhcmFncmFwaHNDb3B5W3BhcmFncmFwaEluZGV4XSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5yZXZpc2lvbkhlYWRzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLnJldmlzaW9uSGVhZHNDaGlsZHJlbi5sZW5ndGggPT09IDEpe1xyXG4gICAgICAgICAgICB0aGlzLnJldmlzaW9uSGVhZHNbMV0uYXBwZW5kQ2hpbGQocmV2aXNpb25IZWFkUGFyYWdyYXBoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVWaXNpYmxlQ2xhc3NuYW1lSW5TaWRlYmFycygpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHZpc2libGVTaWRlYmFyTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aXNpYmxlX3NpZGViYXJfbGVmdCcpXHJcbiAgICAgICAgbGV0IHZpc2libGVVc2VyUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aXNpYmxlX3VzZXJfcHJvZmlsZScpXHJcbiAgICAgICAgaWYodmlzaWJsZVNpZGViYXJMZWZ0KXtcclxuICAgICAgICAgICAgdmlzaWJsZVNpZGViYXJMZWZ0LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGVfc2lkZWJhcl9sZWZ0JylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodmlzaWJsZVVzZXJQcm9maWxlKXtcclxuICAgICAgICAgICAgdmlzaWJsZVVzZXJQcm9maWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGVfdXNlcl9wcm9maWxlJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///252\n")}}]);